{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file://E%3A/nvm/src/lib/dbConnect.ts"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst MONGO_URI = process.env.MONGODB_URI || process.env.NEXT_PUBLIC_MONGO_URI || \"\";\r\n\r\nlet isConnected = false;\r\n\r\nexport async function dbConnect() {\r\n  if (isConnected) return;\r\n\r\n  try {\r\n    if (!MONGO_URI) {\r\n      throw new Error(\"MongoDB URI is not set. Please define MONGODB_URI in .env.local\");\r\n    }\r\n    await mongoose.connect(MONGO_URI, {\r\n      dbName: \"nvw\",\r\n      bufferCommands: false,\r\n    });\r\n    isConnected = true;\r\n    console.log(\"✅ MongoDB Connected\");\r\n  } catch (error) {\r\n    console.error(\"❌ MongoDB Connection Error:\", error);\r\n    process.exit(1);\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,YAAY,QAAQ,GAAG,CAAC,WAAW,yEAAyC;AAElF,IAAI,cAAc;AAEX,eAAe;IACpB,IAAI,aAAa;IAEjB,IAAI;QACF,uCAAgB;;QAEhB;QACA,MAAM,yGAAA,CAAA,UAAQ,CAAC,OAAO,CAAC,WAAW;YAChC,QAAQ;YACR,gBAAgB;QAClB;QACA,cAAc;QACd,QAAQ,GAAG,CAAC;IACd,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,QAAQ,IAAI,CAAC;IACf;AACF"}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file://E%3A/nvm/src/models/winery.model.ts"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\n// FoodPairingOption Schema\r\nconst FoodPairingOptionSchema = new mongoose.Schema({\r\n  id: { type: String, required: true, default: () => crypto.randomUUID() },\r\n  name: { type: String, required: true },\r\n  price: { type: Number, required: true, min: 0 },\r\n});\r\n\r\n// Tours Schema\r\nconst ToursSchema = new mongoose.Schema({\r\n  available: { type: Boolean, default: false },\r\n  tour_price: { type: Number, default: 0, min: 0 },\r\n  tour_options: [\r\n    {\r\n      description: { type: String, required: true },\r\n      cost: { type: Number, required: true, min: 0 },\r\n      tour_id: { type: String }, // Optional\r\n    },\r\n  ],\r\n});\r\n\r\n// WineDetail Schema\r\nconst WineDetailSchema = new mongoose.Schema({\r\n  id: { type: String, required: true, default: () => crypto.randomUUID() },\r\n  name: { type: String, required: true },\r\n  description: { type: String, required: true },\r\n  year: { type: Number },\r\n  tasting_notes: { type: String },\r\n  photo: { type: String },\r\n});\r\n\r\n// BookingInfo Schema\r\nconst BookingInfoSchema = new mongoose.Schema({\r\n  booking_enabled: { type: Boolean, default: false },\r\n  max_guests_per_slot: { type: Number, min: 0 },\r\n  number_of_people: [{ type: Number, min: 0 }],\r\n  dynamic_pricing: {\r\n    enabled: { type: Boolean, default: false },\r\n    weekend_multiplier: { type: Number, min: 0 },\r\n  },\r\n  available_slots: [{ type: String }],\r\n  external_booking_link: { type: String },\r\n});\r\n\r\n// OtherFeature Schema\r\nconst OtherFeatureSchema = new mongoose.Schema({\r\n  description: { type: String, required: true },\r\n  cost: { type: Number, required: true, min: 0 },\r\n  feature_id: { type: String },\r\n});\r\n\r\n// TastingInfo Schema\r\nconst TastingInfoSchema = new mongoose.Schema({\r\n  tasting_title: { type: String, required: true },\r\n  tasting_description: { type: String, required: true },\r\n  ava: { type: String },\r\n  tasting_price: { type: Number, required: true, min: 0 },\r\n  available_times: [{ type: String }],\r\n  wine_types: [{ type: String }],\r\n  number_of_wines_per_tasting: { type: Number, min: 1, default: 1 },\r\n  special_features: [{ type: String }],\r\n  images: [{ type: String }],\r\n  food_pairing_options: [FoodPairingOptionSchema],\r\n  tours: ToursSchema,\r\n  wine_details: [WineDetailSchema],\r\n  booking_info: BookingInfoSchema,\r\n  other_features: [OtherFeatureSchema],\r\n});\r\n\r\n// Winery Schema\r\nconst WinerySchema = new mongoose.Schema({\r\n  name: { type: String, required: true },\r\n  location: {\r\n    address: { type: String, required: true },\r\n    latitude: { type: Number, required: true },\r\n    longitude: { type: Number, required: true },\r\n    is_mountain_location: { type: Boolean, required: true },\r\n  },\r\n  contact_info: {\r\n    phone: { type: String },\r\n    email: { type: String },\r\n    website: { type: String },\r\n  },\r\n  description: { type: String },\r\n  tasting_info: [TastingInfoSchema],\r\n  amenities: {\r\n    virtual_sommelier: { type: Boolean, default: false },\r\n    augmented_reality_tours: { type: Boolean, default: false },\r\n    handicap_accessible: { type: Boolean, default: false },\r\n  },\r\n  user_reviews: [\r\n    {\r\n      review_id: { type: String },\r\n      user_id: { type: String },\r\n      rating: { type: Number, min: 0, max: 5 },\r\n      comment: { type: String },\r\n    },\r\n  ],\r\n  transportation: {\r\n    uber_availability: { type: Boolean, default: false },\r\n    lyft_availability: { type: Boolean, default: false },\r\n    distance_from_user: { type: Number, min: 0 },\r\n  },\r\n  owner: { type: mongoose.Schema.Types.ObjectId, ref: \"User\", required: true },\r\n});\r\n\r\n// Check if the model is already defined\r\nconst Winery = mongoose.models.Winery || mongoose.model(\"Winery\", WinerySchema);\r\n\r\nexport default Winery;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 361, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 375, "column": 0}, "map": {"version":3,"sources":["file://E%3A/nvm/src/app/api/winery/%5Bid%5D/route.ts"],"sourcesContent":["import { dbConnect } from \"@/lib/dbConnect\";\r\nimport Winery from \"@/models/winery.model\";\r\nimport { NextResponse } from \"next/server\";\r\n\r\nexport async function GET(req: Request, { params }: { params: Promise<{ id: string }> }) {\r\n  try {\r\n    const { id } = await params;\r\n    await dbConnect();\r\n    const winery = await Winery.findOne({ _id: id }).lean();\r\n    return NextResponse.json({ message: \"sucess\", winery }, { status: 200 });\r\n  } catch (error: any) {\r\n    return NextResponse.json({ message: error.message }, { status: 400 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAEO,eAAe,IAAI,GAAY,EAAE,EAAE,MAAM,EAAuC;IACrF,IAAI;QACF,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM;QACrB,MAAM,CAAA,GAAA,yHAAA,CAAA,YAAS,AAAD;QACd,MAAM,SAAS,MAAM,kIAAA,CAAA,UAAM,CAAC,OAAO,CAAC;YAAE,KAAK;QAAG,GAAG,IAAI;QACrD,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAU;QAAO,GAAG;YAAE,QAAQ;QAAI;IACxE,EAAE,OAAO,OAAY;QACnB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS,MAAM,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IACrE;AACF"}},
    {"offset": {"line": 405, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}