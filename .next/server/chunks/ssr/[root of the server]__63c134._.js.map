{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://E%3A/nvm/src/components/Itinerary-summary/index.tsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Winery } from \"@/app/interfaces\";\r\nimport { BookingData, ItineraryWinery } from \"@/store/itinerary\";\r\n\r\ninterface ItinerarySummaryProps {\r\n  wineries: ItineraryWinery[];\r\n  onConfirm: () => void;\r\n}\r\n\r\nexport default function ItinerarySummary({ wineries, onConfirm }: ItinerarySummaryProps) {\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const calculateTotalPrice = () => {\r\n      return wineries.reduce((total, winery) => {\r\n        console.log(\"winery\", winery);\r\n        let wineryCost = 0;\r\n        const bookingDetails = winery.bookingDetails;\r\n        const selectedTastingIndex = bookingDetails?.selectedTastingIndex || 0;\r\n        const currentTastingInfo = winery.tasting_info?.[selectedTastingIndex];\r\n\r\n        // Add tasting price for the selected tasting\r\n        if (currentTastingInfo?.tasting_price) {\r\n          wineryCost += currentTastingInfo.tasting_price;\r\n        }\r\n\r\n        // Add food pairing prices if selected\r\n        if (bookingDetails?.foodPairings) {\r\n          wineryCost += bookingDetails.foodPairings.reduce((sum, pairing) => sum + pairing.price, 0);\r\n        }\r\n\r\n        // Add tour prices if selected\r\n        if (bookingDetails?.tours) {\r\n          wineryCost += bookingDetails.tours.reduce((sum, tour) => sum + tour.price, 0);\r\n        }\r\n        if (bookingDetails?.otherFeature) {\r\n          wineryCost += bookingDetails.otherFeature.reduce((sum, feature) => sum + feature.price, 0);\r\n        }\r\n\r\n        return total + wineryCost;\r\n      }, 0);\r\n    };\r\n\r\n    setTotalPrice(calculateTotalPrice());\r\n  }, [wineries]);\r\n\r\n  const totalTime = wineries.length * 1.5;\r\n\r\n  return (\r\n    <div className=\"card shadow-sm bg-white p-6 rounded-lg\">\r\n      <h2 className=\"text-xl font-semibold mb-4\">Itinerary Summary</h2>\r\n      <p>Total Wineries: {wineries.length}</p>\r\n      <p>Approximate Cost: ${totalPrice.toFixed(2)}</p>\r\n\r\n      <div className=\"mt-4\">\r\n        <h3 className=\"text-sm font-semibold text-gray-700\">Breakdown</h3>\r\n        {wineries.length === 0 ? (\r\n          <p className=\"text-sm text-gray-600\">No wineries selected.</p>\r\n        ) : (\r\n          <ul className=\"text-sm text-gray-600\">\r\n            {wineries.map((winery) => {\r\n              const bookingDetails = winery.bookingDetails;\r\n              const selectedTastingIndex = bookingDetails?.selectedTastingIndex || 0;\r\n              const currentTastingInfo = winery.tasting_info?.[selectedTastingIndex];\r\n              \r\n              return (\r\n                <li key={winery._id || winery.name} className=\"mt-2\">\r\n                  <span className=\"font-medium\">{winery.name}</span>\r\n                  {currentTastingInfo && (\r\n                    <div className=\"ml-4 text-xs text-gray-500\">\r\n                      {currentTastingInfo.tasting_title}\r\n                    </div>\r\n                  )}\r\n                  {bookingDetails &&\r\n                  (bookingDetails.tasting ||\r\n                    bookingDetails.foodPairings?.length > 0 ||\r\n                    bookingDetails.tours?.length > 0 ||\r\n                    bookingDetails.otherFeature?.length > 0) ? (\r\n                    <ul className=\"ml-4 list-disc\">\r\n                      {currentTastingInfo?.tasting_price && (\r\n                        <li>Tasting: ${currentTastingInfo.tasting_price.toFixed(2)}</li>\r\n                      )}\r\n                      {bookingDetails?.foodPairings?.map((pairing) => (\r\n                        <li key={pairing.name}>\r\n                          {pairing.name}: ${pairing.price.toFixed(2)}\r\n                        </li>\r\n                      ))}\r\n                      {bookingDetails?.tours?.map((tour) => (\r\n                        <li key={tour.description}>\r\n                          {tour.description}: ${tour.price.toFixed(2)}\r\n                        </li>\r\n                      ))}\r\n                      {bookingDetails?.otherFeature?.map((feature) => (\r\n                        <li key={feature.description}>\r\n                          {feature.description}: ${feature.price.toFixed(2)}\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  ) : (\r\n                    <p className=\"ml-4 text-gray-500\">No options selected</p>\r\n                  )}\r\n                </li>\r\n              );\r\n            })}\r\n          </ul>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"mt-6\">\r\n        <button\r\n          onClick={onConfirm}\r\n          className=\"btn btn-success w-full\"\r\n          disabled={wineries.some((w) => !w.bookingDetails?.selectedTime)}\r\n        >\r\n          Confirm Itinerary\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AACA;AADA;;;AAUe,SAAS,iBAAiB,EAAE,QAAQ,EAAE,SAAS,EAAyB;IACrF,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,sBAAsB;YAC1B,OAAO,SAAS,MAAM,CAAC,CAAC,OAAO;gBAC7B,QAAQ,GAAG,CAAC,UAAU;gBACtB,IAAI,aAAa;gBACjB,MAAM,iBAAiB,OAAO,cAAc;gBAC5C,MAAM,uBAAuB,gBAAgB,wBAAwB;gBACrE,MAAM,qBAAqB,OAAO,YAAY,EAAE,CAAC,qBAAqB;gBAEtE,6CAA6C;gBAC7C,IAAI,oBAAoB,eAAe;oBACrC,cAAc,mBAAmB,aAAa;gBAChD;gBAEA,sCAAsC;gBACtC,IAAI,gBAAgB,cAAc;oBAChC,cAAc,eAAe,YAAY,CAAC,MAAM,CAAC,CAAC,KAAK,UAAY,MAAM,QAAQ,KAAK,EAAE;gBAC1F;gBAEA,8BAA8B;gBAC9B,IAAI,gBAAgB,OAAO;oBACzB,cAAc,eAAe,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,KAAK,EAAE;gBAC7E;gBACA,IAAI,gBAAgB,cAAc;oBAChC,cAAc,eAAe,YAAY,CAAC,MAAM,CAAC,CAAC,KAAK,UAAY,MAAM,QAAQ,KAAK,EAAE;gBAC1F;gBAEA,OAAO,QAAQ;YACjB,GAAG;QACL;QAEA,cAAc;IAChB,GAAG;QAAC;KAAS;IAEb,MAAM,YAAY,SAAS,MAAM,GAAG;IAEpC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAC3C,8OAAC;;oBAAE;oBAAiB,SAAS,MAAM;;;;;;;0BACnC,8OAAC;;oBAAE;oBAAoB,WAAW,OAAO,CAAC;;;;;;;0BAE1C,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAsC;;;;;;oBACnD,SAAS,MAAM,KAAK,kBACnB,8OAAC;wBAAE,WAAU;kCAAwB;;;;;6CAErC,8OAAC;wBAAG,WAAU;kCACX,SAAS,GAAG,CAAC,CAAC;4BACb,MAAM,iBAAiB,OAAO,cAAc;4BAC5C,MAAM,uBAAuB,gBAAgB,wBAAwB;4BACrE,MAAM,qBAAqB,OAAO,YAAY,EAAE,CAAC,qBAAqB;4BAEtE,qBACE,8OAAC;gCAAmC,WAAU;;kDAC5C,8OAAC;wCAAK,WAAU;kDAAe,OAAO,IAAI;;;;;;oCACzC,oCACC,8OAAC;wCAAI,WAAU;kDACZ,mBAAmB,aAAa;;;;;;oCAGpC,kBACD,CAAC,eAAe,OAAO,IACrB,eAAe,YAAY,EAAE,SAAS,KACtC,eAAe,KAAK,EAAE,SAAS,KAC/B,eAAe,YAAY,EAAE,SAAS,CAAC,kBACvC,8OAAC;wCAAG,WAAU;;4CACX,oBAAoB,+BACnB,8OAAC;;oDAAG;oDAAW,mBAAmB,aAAa,CAAC,OAAO,CAAC;;;;;;;4CAEzD,gBAAgB,cAAc,IAAI,CAAC,wBAClC,8OAAC;;wDACE,QAAQ,IAAI;wDAAC;wDAAI,QAAQ,KAAK,CAAC,OAAO,CAAC;;mDADjC,QAAQ,IAAI;;;;;4CAItB,gBAAgB,OAAO,IAAI,CAAC,qBAC3B,8OAAC;;wDACE,KAAK,WAAW;wDAAC;wDAAI,KAAK,KAAK,CAAC,OAAO,CAAC;;mDADlC,KAAK,WAAW;;;;;4CAI1B,gBAAgB,cAAc,IAAI,CAAC,wBAClC,8OAAC;;wDACE,QAAQ,WAAW;wDAAC;wDAAI,QAAQ,KAAK,CAAC,OAAO,CAAC;;mDADxC,QAAQ,WAAW;;;;;;;;;;6DAMhC,8OAAC;wCAAE,WAAU;kDAAqB;;;;;;;+BAjC7B,OAAO,GAAG,IAAI,OAAO,IAAI;;;;;wBAqCtC;;;;;;;;;;;;0BAKN,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBACC,SAAS;oBACT,WAAU;oBACV,UAAU,SAAS,IAAI,CAAC,CAAC,IAAM,CAAC,EAAE,cAAc,EAAE;8BACnD;;;;;;;;;;;;;;;;;AAMT"}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 229, "column": 0}, "map": {"version":3,"sources":["file://E%3A/nvm/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,qIAAA,CAAA,OAAI,AAAD,EAAE;AACtB"}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":["file://E%3A/nvm/src/components/buttons/button.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\r\n        outline:\r\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-4 py-2\",\r\n        sm: \"h-9 rounded-md px-3\",\r\n        lg: \"h-11 rounded-md px-8\",\r\n        icon: \"h-10 w-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\"\r\n    return (\r\n      <Comp\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AAEA;AAHA;;;;;;AAKA,MAAM,iBAAiB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACvB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,sMAAM,UAAU,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,gKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 299, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 305, "column": 0}, "map": {"version":3,"sources":["file://E%3A/nvm/src/components/modal/index.tsx"],"sourcesContent":["import { useEffect } from \"react\";\r\nimport { X } from \"lucide-react\";\r\n\r\ninterface ModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst Modal: React.FC<ModalProps> = ({ isOpen, onClose, children }) => {\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.body.classList.add(\"overflow-hidden\");\r\n    } else {\r\n      document.body.classList.remove(\"overflow-hidden\");\r\n    }\r\n    return () => {\r\n      document.body.classList.remove(\"overflow-hidden\");\r\n    };\r\n  }, [isOpen]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50\">\r\n      <div className=\"bg-white rounded-lg shadow-lg w-full h-full sm:h-auto sm:max-w-lg sm:rounded-xl max-h-screen overflow-y-auto p-6 relative\">\r\n        <button className=\"absolute top-3 right-3 text-gray-600 hover:text-gray-900\" onClick={onClose}>\r\n          <X size={20} />\r\n        </button>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAQA,MAAM,QAA8B,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE;IAChE,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,QAAQ;YACV,SAAS,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;QAC9B,OAAO;YACL,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;QACjC;QACA,OAAO;YACL,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;QACjC;IACF,GAAG;QAAC;KAAO;IAEX,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAO,WAAU;oBAA2D,SAAS;8BACpF,cAAA,8OAAC,4LAAA,CAAA,IAAC;wBAAC,MAAM;;;;;;;;;;;gBAEV;;;;;;;;;;;;AAIT;uCAEe"}},
    {"offset": {"line": 362, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 368, "column": 0}, "map": {"version":3,"sources":["file://E%3A/nvm/src/components/cards/winery.tsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Winery } from \"@/app/interfaces\";\r\nimport { BookingData } from \"@/store/itinerary\";\r\n\r\ninterface WineryCardProps {\r\n  winery: Winery;\r\n  onUpdate: (id: string, data: BookingData) => void;\r\n  onRemove: (id: string) => void;\r\n}\r\n\r\nexport default function WineryBookingCard({ winery, onUpdate, onRemove }: WineryCardProps) {\r\n  // Get the first tasting info for backward compatibility, or use the first one from the array\r\n  const primaryTastingInfo = winery.tasting_info?.[0] || winery.tasting_info;\r\n  const [selectedDate, setSelectedDate] = useState<string>(\"\");\r\n  const [selectedTime, setSelectedTime] = useState<string>(\"\");\r\n  const [selectedTastingIndex, setSelectedTastingIndex] = useState<number>(0);\r\n  const [availableTimes, setAvailableTimes] = useState<string[]>([]);\r\n  const [selections, setSelections] = useState({\r\n    tasting: false,\r\n    foodPairings: [] as { name: string; price: number }[],\r\n    tours: [] as { description: string; price: number }[],\r\n    otherFeature: [] as { description: string; price: number }[],\r\n  });\r\n\r\n  // Get current tasting info based on selection\r\n  const currentTastingInfo = winery.tasting_info?.[selectedTastingIndex] || primaryTastingInfo;\r\n  \r\n  // Get available slots from the currently selected tasting\r\n  const availableSlots = currentTastingInfo?.booking_info?.available_slots || [];\r\n  const uniqueDatesSet = new Set(availableSlots.map((slot) => new Date(slot).toISOString().split(\"T\")[0]));\r\n  const availableDates = Array.from(uniqueDatesSet).sort();\r\n  const minDate = availableDates.length > 0 ? availableDates[0] : \"\";\r\n  const maxDate = availableDates.length > 0 ? availableDates[availableDates.length - 1] : \"\";\r\n  const initialDate = availableDates.length > 0 ? availableDates[0] : \"\";\r\n\r\n  // Update selected date when available dates change\r\n  useEffect(() => {\r\n    if (availableDates.length > 0 && !availableDates.includes(selectedDate)) {\r\n      setSelectedDate(initialDate);\r\n    }\r\n  }, [availableDates, selectedDate, initialDate]);\r\n\r\n  useEffect(() => {\r\n    if (selectedDate) {\r\n      const timesForDate = availableSlots\r\n        .filter((slot) => new Date(slot).toISOString().split(\"T\")[0] === selectedDate)\r\n        .sort((a, b) => new Date(a).getTime() - new Date(b).getTime());\r\n      setAvailableTimes(timesForDate);\r\n      if (!timesForDate.includes(selectedTime)) {\r\n        setSelectedTime(timesForDate[0] || \"\");\r\n      }\r\n    } else {\r\n      setAvailableTimes([]);\r\n      setSelectedTime(\"\");\r\n    }\r\n  }, [selectedDate, availableSlots, selectedTime]);\r\n\r\n  useEffect(() => {\r\n    onUpdate(winery._id || winery.name, {\r\n      selectedDate,\r\n      selectedTime,\r\n      selectedTastingIndex,\r\n      tasting: selections.tasting,\r\n      foodPairings: selections.foodPairings,\r\n      tours: selections.tours || [],\r\n      otherFeature: selections.otherFeature || [],\r\n    });\r\n  }, [selectedDate, selectedTime, selectedTastingIndex, selections, winery._id, winery.name, onUpdate]);\r\n\r\n  const handleDateChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const dateValue = e.target.value;\r\n    if (availableDates.includes(dateValue)) {\r\n      setSelectedDate(dateValue);\r\n    } else {\r\n      alert(\"Selected date is not available for booking.\");\r\n      setSelectedDate(initialDate);\r\n    }\r\n  };\r\n\r\n  const handleSelectionChange = (key: \"tasting\", value: boolean) => {\r\n    setSelections((prev) => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  const handleFoodPairingChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    const selectedValue = e.target.value;\r\n\r\n    if (!selectedValue) {\r\n      setSelections((prev) => ({ ...prev, foodPairings: [] }));\r\n      return;\r\n    }\r\n\r\n    const selectedOptions = Array.from(e.target.selectedOptions, (option) => ({\r\n      name: option.value,\r\n      price: Number(option.dataset.price) || 0,\r\n    }));\r\n\r\n    setSelections((prev) => ({ ...prev, foodPairings: selectedOptions }));\r\n  };\r\n\r\n  const handleTourChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    const selectedValue = e.target.value;\r\n\r\n    if (!selectedValue) {\r\n      setSelections((prev) => ({ ...prev, tours: [] }));\r\n      return;\r\n    }\r\n\r\n    const selectedOptions = Array.from(e.target.selectedOptions, (option) => ({\r\n      description: option.value,\r\n      price: Number(option.dataset.price) || 0,\r\n    }));\r\n\r\n    setSelections((prev) => ({ ...prev, tours: selectedOptions }));\r\n  };\r\n\r\n  const handleChangeOther = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    const selectedValue = e.target.value;\r\n\r\n    if (!selectedValue) {\r\n      setSelections((prev) => ({ ...prev, otherFeature: [] }));\r\n      return;\r\n    }\r\n\r\n    const selectedOptions = Array.from(e.target.selectedOptions, (option) => ({\r\n      description: option.value,\r\n      price: Number(option.dataset.price) || 0,\r\n    }));\r\n\r\n    setSelections((prev) => ({ ...prev, otherFeature: selectedOptions }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    setSelections((prev) => ({ ...prev, foodPairings: [], tours: [], otherFeature: [] }));\r\n  }, [currentTastingInfo]);\r\n\r\n  return (\r\n    <div className=\"card shadow-sm bg-white rounded-xl p-4 md:p-6 flex flex-col md:flex-row gap-4 items-start w-full\">\r\n      <div className=\"flex-grow bg-white w-full\">\r\n        <div className=\"flex justify-between items-center\">\r\n          <h2 className=\"text-lg font-semibold text-gray-800 truncate\">{winery.name}</h2>\r\n          <button\r\n            onClick={() => onRemove(winery._id || winery.name)}\r\n            className=\"text-red-500 text-sm hover:text-red-600 transition\"\r\n          >\r\n            Remove\r\n          </button>\r\n        </div>\r\n        <p className=\"text-xs text-gray-500\">{winery.location?.address ?? \"Address not available\"}</p>\r\n\r\n        {/* Multiple Tasting Selection */}\r\n        {winery.tasting_info && winery.tasting_info.length > 1 && (\r\n          <div className=\"mt-2\">\r\n            <label className=\"block text-xs font-medium text-gray-600\">Select Tasting Experience</label>\r\n            <select\r\n              className=\"w-full text-sm rounded-md h-10 p-2 box-border\"\r\n              value={selectedTastingIndex}\r\n              onChange={(e) => {\r\n                const newIndex = Number(e.target.value);\r\n                setSelectedTastingIndex(newIndex);\r\n                // Reset date and time when tasting changes\r\n                setSelectedDate(\"\");\r\n                setSelectedTime(\"\");\r\n              }}\r\n            >\r\n              {winery.tasting_info.map((tasting, index) => (\r\n                <option key={index} value={index}>\r\n                  {tasting.tasting_title} - ${tasting.tasting_price.toFixed(2)}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"flex items-center justify-between text-sm text-gray-700 mt-2 gap-2\">\r\n          <span className=\"flex items-center gap-1\">\r\n            💰 Tasting: ${currentTastingInfo?.tasting_price?.toFixed(2) ?? \"N/A\"}\r\n          </span>\r\n          <span className=\"flex items-center gap-1\">\r\n            ⏰ {currentTastingInfo?.available_times?.slice(0, 3).join(\", \") ?? \"No times available\"}\r\n            {currentTastingInfo?.available_times?.length > 3 && \"...\"}\r\n          </span>\r\n        </div>\r\n\r\n        <div className=\"mt-4 flex flex-wrap md:flex-nowrap gap-4\">\r\n          <div className=\"w-full md:w-1/3\">\r\n            <label className=\"block text-xs font-medium text-gray-600\">Date</label>\r\n            <input\r\n              type=\"date\"\r\n              value={selectedDate}\r\n              onChange={handleDateChange}\r\n              min={minDate}\r\n              max={maxDate}\r\n              className=\"w-full text-sm rounded-md h-10 p-2 box-border\"\r\n              disabled={availableDates.length === 0}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"w-full md:w-1/3\">\r\n            <label className=\"block text-xs font-medium text-gray-600\">Time</label>\r\n            <select\r\n              className=\"w-full text-sm rounded-md h-10 p-2 box-border appearance-none\"\r\n              value={selectedTime}\r\n              onChange={(e) => setSelectedTime(e.target.value)}\r\n              disabled={!selectedDate || availableTimes.length === 0}\r\n            >\r\n              <option value=\"\" disabled>\r\n                Select a time\r\n              </option>\r\n              {availableTimes.map((time, idx) => (\r\n                <option key={idx} value={time}>\r\n                  {new Date(time).toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" })}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          {currentTastingInfo?.food_pairing_options?.length > 0 && (\r\n\r\n          <div className=\"w-full md:w-1/3\">\r\n            <label className=\"block text-xs font-medium text-gray-600\">Food Available</label>\r\n            <select\r\n              className=\"select select-bordered w-full text-sm h-10\"\r\n              onChange={handleFoodPairingChange}\r\n            >\r\n                  <option value=\"\">\r\n                    Select food available\r\n                  </option>\r\n                  {currentTastingInfo.food_pairing_options.map((option) => (\r\n                    <option key={option.name} value={option.name} data-price={option.price}>\r\n                      {option.name} (${option.price.toFixed(2)})\r\n                    </option>\r\n                  ))}\r\n            \r\n            </select>\r\n          </div>\r\n            )}\r\n\r\n          {currentTastingInfo?.tours?.tour_options?.length >  0 &&  (\r\n\r\n          <div className=\"w-full md:w-1/3\">\r\n            <label className=\"block text-xs font-medium text-gray-600\">Tour</label>\r\n            <select\r\n              className=\"select select-bordered w-full text-sm h-10\"\r\n              onChange={handleTourChange}\r\n            >\r\n   \r\n                  <option value=\"\">\r\n                    Select Tour\r\n                  </option>\r\n                  {currentTastingInfo.tours.tour_options?.map((option) => (\r\n                    <option key={option.description} value={option.description} data-price={option.cost}>\r\n                      {option.description} (${option.cost.toFixed(2)})\r\n                    </option>\r\n                  ))}\r\n               \r\n            </select>\r\n          </div>\r\n            )}\r\n\r\n\r\n          {currentTastingInfo?.other_features?.length > 0 && (\r\n          <div className=\"w-full md:w-1/3\">\r\n            <label className=\"block text-xs font-medium text-gray-600\">Other Features</label>\r\n            <select\r\n              className=\"select select-bordered w-full text-sm h-10\"\r\n              onChange={handleChangeOther}\r\n            >\r\n                  <option value=\"\">\r\n                    Select Other Feature\r\n                  </option>\r\n                  {currentTastingInfo.other_features?.map((option) => (\r\n                    <option key={option.description} value={option.description} data-price={option.cost}>\r\n                      {option.description} (${option.cost.toFixed(2)})\r\n                    </option>\r\n                  ))}\r\n            </select>\r\n          </div>\r\n           )}\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 884, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 986, "column": 0}, "map": {"version":3,"sources":["file://E%3A/nvm/src/app/itinerary/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport ItinerarySummary from \"@/components/Itinerary-summary\";\r\nimport { useItinerary, BookingData, ItineraryWinery } from \"@/store/itinerary\";\r\nimport AuthModal from \"@/components/modal/AuthModal\";\r\nimport { Car, Loader2, Wine } from \"lucide-react\";\r\nimport { Button } from \"@/components/buttons/button\";\r\nimport Modal from \"@/components/modal\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport WineryBookingCard from \"@/components/cards/winery\";\r\nimport axios from \"axios\";\r\nimport { useAuthStore } from \"@/store/authStore\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\n\r\n// Initialize Stripe with your publishable key\r\nconst stripePromise = loadStripe(process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY || \"\");\r\n\r\nexport default function ItineraryPage() {\r\n  const [isLottieLoaded, setIsLottieLoaded] = useState(false);\r\n  const { itinerary, setItinerary } = useItinerary();\r\n  const [showAuthModal, setShowAuthModal] = useState(false);\r\n  const [showRideModal, setShowRideModal] = useState(false);\r\n  const [currentLocation, setCurrentLocation] = useState<{ latitude: number; longitude: number } | null>(null);\r\n  const [loadingLocation, setLoadingLocation] = useState(false);\r\n  const [loadingPayment, setLoadingPayment] = useState(false);\r\n  const { user } = useAuthStore();\r\n  const router = useRouter();\r\n\r\n  const handleUpdate = (id: string, data: BookingData) => {\r\n    const updatedItinerary = itinerary.map((winery) => {\r\n      if ((winery._id || winery.name) === id) {\r\n        // Only update if bookingDetails has changed\r\n        if (JSON.stringify(winery.bookingDetails) !== JSON.stringify(data)) {\r\n          return { ...winery, bookingDetails: data };\r\n        }\r\n      }\r\n      return winery;\r\n    });\r\n\r\n    // Only call setItinerary if there are actual changes\r\n    if (JSON.stringify(updatedItinerary) !== JSON.stringify(itinerary)) {\r\n      setItinerary(updatedItinerary);\r\n    }\r\n  };\r\n\r\n  const handleRemove = (id: string) => setItinerary(itinerary.filter((winery) => winery._id !== id));\r\n\r\n  const handleClearAll = () => {\r\n    setShowRideModal(false);\r\n    setItinerary([]);\r\n  };\r\n\r\n  const getUserLocation = async () => {\r\n    setLoadingLocation(true);\r\n    return new Promise((resolve, reject) => {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          const location = {\r\n            latitude: position.coords.latitude,\r\n            longitude: position.coords.longitude,\r\n          };\r\n          setCurrentLocation(location);\r\n          setLoadingLocation(false);\r\n          resolve(location);\r\n        },\r\n        (error) => {\r\n          setLoadingLocation(false);\r\n          reject(error);\r\n        }\r\n      );\r\n    });\r\n  };\r\nconst handleConfirmBooking = async () => {\r\n  if (!user) return setShowAuthModal(true);\r\n\r\n  const data = itinerary.map((winery) => {\r\n    const selectedTastingIndex = winery.bookingDetails?.selectedTastingIndex || 0;\r\n    const currentTastingInfo = winery.tasting_info?.[selectedTastingIndex];\r\n    \r\n    return {\r\n      wineryId: winery._id,\r\n      dateTime: winery.bookingDetails?.selectedTime,\r\n      tastingIndex: selectedTastingIndex,\r\n      tasting: winery.bookingDetails?.tasting && currentTastingInfo?.tasting_price ? currentTastingInfo.tasting_price : null,\r\n      foodPairings: winery.bookingDetails?.foodPairings || [],\r\n    };\r\n  });\r\n\r\n  try {\r\n    const requiresStripe = itinerary.some((winery) => winery?.payment_method === \"pay_stripe\");\r\n\r\n    if (requiresStripe) {\r\n      setLoadingPayment(true);\r\n      const lineItems = itinerary\r\n        .filter((winery) => winery?.payment_method === \"pay_stripe\")\r\n        .map((winery) => {\r\n          let totalCost = 0;\r\n          const items = [];\r\n          const selectedTastingIndex = winery.bookingDetails?.selectedTastingIndex || 0;\r\n          const currentTastingInfo = winery.tasting_info?.[selectedTastingIndex];\r\n\r\n          // Add tasting price if selected\r\n          if (currentTastingInfo?.tasting_price) {\r\n            totalCost += currentTastingInfo.tasting_price;\r\n          }\r\n\r\n          // Add food pairing prices\r\n          if (winery.bookingDetails?.foodPairings?.length) {\r\n            totalCost += winery.bookingDetails.foodPairings.reduce((sum, foodItem) => {\r\n              return foodItem.price ? sum + foodItem.price : sum;\r\n            }, 0);\r\n          }\r\n\r\n          // Create a single line item if there's a cost\r\n          if (totalCost > 0) {\r\n            items.push({\r\n              price_data: {\r\n                currency: \"usd\",\r\n                product_data: {\r\n                  name: `${winery.name} - ${currentTastingInfo?.tasting_title || 'Booking'} (Tasting & Food Pairings)`,\r\n                },\r\n                unit_amount: Math.round(totalCost * 100), // Convert to cents\r\n              },\r\n              quantity: 1,\r\n            });\r\n          }\r\n\r\n          return items;\r\n        })\r\n        .flat();\r\n\r\n      // Validate lineItems\r\n      if (!lineItems.length) {\r\n        console.error(\"No valid line items for Stripe checkout. Itinerary:\", itinerary);\r\n        throw new Error(\"No items selected for payment. Please add a tasting or food pairing.\");\r\n      }\r\n\r\n      const response = await axios.post(\"/api/stripe/create-checkout-session\", {\r\n        line_items: lineItems,\r\n        success_url: `${window.location.origin}/itinerary?success=true`,\r\n        cancel_url: `${window.location.origin}/itinerary?cancel=true`,\r\n        metadata: { itinerary: JSON.stringify(data) },\r\n        bookData: data,\r\n      });\r\n\r\n      const { sessionId } = response.data;\r\n      const stripe = await stripePromise;\r\n      if (stripe) {\r\n        await stripe.redirectToCheckout({ sessionId });\r\n      } else {\r\n        throw new Error(\"Stripe failed to initialize\");\r\n      }\r\n    } else {\r\n      const response = await axios.post(\"/api/itinerary/book\", { data });\r\n      if (response.status === 201) {\r\n        setShowRideModal(true);\r\n      }\r\n    }\r\n  } catch (error: any) {\r\n    console.error(\"Booking error:\", error);\r\n    if (error.response?.status === 404) {\r\n      alert(\"Payment processing is currently unavailable. Please try again later or contact support.\");\r\n    } else if (error.message.includes(\"Stripe\")) {\r\n      alert(\"Failed to initialize payment. Please check your connection and try again.\");\r\n    } else if (error.message.includes(\"No items selected\")) {\r\n      alert(error.message);\r\n    } else {\r\n      alert(\"Failed to process booking. Please try again later.\");\r\n    }\r\n  } finally {\r\n    setLoadingPayment(false);\r\n  }\r\n};\r\n\r\n  const handleRideClick = async (service: \"uber\" | \"lyft\") => {\r\n    if (!currentLocation) {\r\n      try {\r\n        const location: any = await getUserLocation();\r\n        openRideLink(service, location);\r\n      } catch {\r\n        alert(\"Location access denied. Unable to book ride.\");\r\n      }\r\n    } else {\r\n      openRideLink(service, currentLocation);\r\n    }\r\n  };\r\n\r\n  const openRideLink = (service: \"uber\" | \"lyft\", location: { latitude: number; longitude: number }) => {\r\n    const earliestWinery = itinerary[0];\r\n    if (!earliestWinery) return;\r\n\r\n    const pickupTime = Math.floor(Date.now() / 1000) + 30 * 60;\r\n    let rideURL = \"\";\r\n    if (service === \"uber\") {\r\n      rideURL = `https://m.uber.com/ul/?action=setPickup&pickup[latitude]=${location.latitude}&pickup[longitude]=${location.longitude}&dropoff[latitude]=${earliestWinery.location.latitude}&dropoff[longitude]=${earliestWinery.location.longitude}&pickup_time=${pickupTime}&intent=ride`;\r\n    } else if (service === \"lyft\") {\r\n      rideURL = `https://ride.lyft.com/?id=lyft&pickup[latitude]=${location.latitude}&pickup[longitude]=${\r\n        location.longitude\r\n      }&destination=${encodeURIComponent(earliestWinery.location.address)}`;\r\n    }\r\n    window.open(rideURL, \"_blank\");\r\n  };\r\n\r\n  // Sort itinerary without causing infinite loop\r\n  useEffect(() => {\r\n    const sortedItinerary = [...itinerary].sort((a, b) => {\r\n      const timeA = a.bookingDetails?.selectedTime ? new Date(a.bookingDetails.selectedTime).getTime() : Infinity;\r\n      const timeB = b.bookingDetails?.selectedTime ? new Date(b.bookingDetails.selectedTime).getTime() : Infinity;\r\n      return timeA - timeB;\r\n    });\r\n    // Only update if the order has changed to prevent infinite loop\r\n    if (JSON.stringify(sortedItinerary) !== JSON.stringify(itinerary)) {\r\n      setItinerary(sortedItinerary);\r\n    }\r\n  }, [itinerary, setItinerary]);\r\n\r\n  return (\r\n    <div className=\"bg-gray-100 min-h-screen py-12 px-4 sm:px-6 lg:px-8 relative md:top-10 top-5\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        <h1 className=\"md:text-2xl font-bold text-gray-900\">Your Itinerary</h1>\r\n        <p className=\"text-gray-600 mb-4 md:text-md text-sm\">Plan your perfect wine-tasting experience.</p>\r\n\r\n        {itinerary.length === 0 ? (\r\n          <div className=\"flex flex-col items-center justify-center h-80 text-center text-gray-500\">\r\n            <Wine size={50} className=\"text-gray-400 mb-4\" />\r\n            <p className=\"text-lg font-semibold\">Your itinerary is empty</p>\r\n            <p className=\"text-sm text-gray-600\">Start adding wineries to create your perfect wine tour!</p>\r\n            <Button variant=\"secondary\" className=\"mt-4\" onClick={() => router.push(\"/\")}>\r\n              Browse Wineries\r\n            </Button>\r\n          </div>\r\n        ) : (\r\n          <div className=\"flex gap-10 flex-wrap lg:flex-nowrap mb-10\">\r\n            <div className=\"lg:w-4/5 w-full\">\r\n              {itinerary.map((winery) => (\r\n                <div key={winery._id || winery.name} className=\"mb-4 w-full\">\r\n                  <WineryBookingCard winery={winery} onUpdate={handleUpdate} onRemove={handleRemove} />\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"lg:w-2/5 w-full\">\r\n              <ItinerarySummary wineries={itinerary} onConfirm={handleConfirmBooking} />\r\n\r\n              <div className=\"flex gap-4 mt-6\">\r\n                <Button variant=\"destructive\" onClick={handleClearAll}>\r\n                  Clear All\r\n                </Button>\r\n                <Button onClick={() => router.push(\"/\")} variant=\"outline\">\r\n                  Back to Wineries\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <Modal\r\n        isOpen={showRideModal}\r\n        onClose={() => {\r\n          setShowRideModal(false);\r\n          handleClearAll();\r\n        }}\r\n      >\r\n        <div className=\"flex flex-col items-center p-0\">\r\n          {!isLottieLoaded && <Loader2 className=\"w-8 h-8 text-gray-500 animate-spin mb-4\" />}\r\n          <iframe\r\n            src=\"https://lottie.host/embed/303f3d0b-e50a-4592-894a-474164e44c5d/f4rpyUChZF.lottie\"\r\n            className={`transition-opacity duration-300 ${isLottieLoaded ? \"opacity-100\" : \"opacity-0\"}`}\r\n            onLoad={() => setIsLottieLoaded(true)}\r\n          ></iframe>\r\n\r\n          {isLottieLoaded && (\r\n            <>\r\n              <h2 className=\"lg:text-2xl text-xl font-bold text-gray-900 mt-4 text-center\">Your Wine Tour is Confirmed! 🍷</h2>\r\n              <p className=\"text-gray-600 mt-2 text-center\">\r\n                You’ve successfully planned your winery itinerary. Get ready to explore amazing wineries and enjoy premium\r\n                tastings!\r\n              </p>\r\n\r\n              <p className=\"text-gray-500 text-sm mt-4 text-center\">\r\n                A confirmation email has been sent to <strong>{user?.email || \"your email\"}</strong> with all your booking\r\n                details. Be sure to check your schedule and arrive on time for your reservations.\r\n              </p>\r\n\r\n              <div className=\"border-t w-full my-4\"></div>\r\n\r\n              <h3 className=\"text-lg font-semibold text-gray-900 text-left w-full\">What’s Next?</h3>\r\n              <ul className=\"text-gray-600 text-sm mt-2 space-y-2 text-left w-full\">\r\n                <li>📍 Review your itinerary details in your email.</li>\r\n                <li>🍷 Make sure to bring your ID if required by the wineries.</li>\r\n                <li>🚗 Need a ride? Book an Uber or Lyft below.</li>\r\n                <li>📸 Don’t forget to take pictures and share your experience!</li>\r\n              </ul>\r\n\r\n              <div className=\"flex gap-4 mt-6\">\r\n                <Button onClick={() => handleRideClick(\"uber\")} className=\"bg-black text-white\">\r\n                  🚗 Book an Uber\r\n                </Button>\r\n                <Button onClick={() => handleRideClick(\"lyft\")} className=\"bg-[#FF00BF] text-white\">\r\n                  🚖 Book a Lyft\r\n                </Button>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </Modal>\r\n\r\n      {showAuthModal && <AuthModal setShowPopup={setShowAuthModal} showLoginForm={true} />}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1518, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}