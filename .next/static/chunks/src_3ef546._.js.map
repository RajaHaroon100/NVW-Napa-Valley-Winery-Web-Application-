{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://E%3A/nvm/src/components/map/map-selector.tsx"],"sourcesContent":["import { MapContainer, TileLayer, Marker, useMap, useMapEvents } from \"react-leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport L from \"leaflet\";\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\n// Configure default icon for Leaflet markers\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png\",\r\n  iconUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png\",\r\n  shadowUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png\",\r\n});\r\n\r\ntype MapSelectorProps = {\r\n  latitude: number;\r\n  longitude: number;\r\n  onChange: (lat: number, lng: number, address: string) => void;\r\n};\r\n\r\n// Component that smoothly changes the map view when coordinates update\r\nfunction ChangeMapView({ coords }: { coords: [number, number] }) {\r\n  const map = useMap();\r\n  useEffect(() => {\r\n    map.flyTo(coords, map.getZoom(), { animate: true, duration: 1.5 });\r\n  }, [coords, map]);\r\n  return null;\r\n}\r\n\r\nexport const MapSelector: React.FC<MapSelectorProps> = ({ latitude, longitude, onChange }) => {\r\n  const [query, setQuery] = useState(\"\");\r\n  const [suggestions, setSuggestions] = useState<any[]>([]);\r\n\r\n  // Fetch suggestions from the Nominatim API\r\n  const fetchSuggestions = async () => {\r\n    if (!query) {\r\n      setSuggestions([]);\r\n      return;\r\n    }\r\n    try {\r\n      // Enhanced search with better parameters for US addresses\r\n      const searchQuery = query.trim();\r\n      const params = new URLSearchParams({\r\n        format: 'json',\r\n        q: searchQuery,\r\n        countrycodes: 'us', // Focus on US addresses\r\n        addressdetails: '1',\r\n        limit: '10',\r\n        dedupe: '1'\r\n      });\r\n      \r\n      const response = await fetch(`https://nominatim.openstreetmap.org/search?${params}`);\r\n      const data = await response.json();\r\n      \r\n      // If no results with the full query, try a broader search\r\n      if (data.length === 0 && searchQuery.includes(' ')) {\r\n        const words = searchQuery.split(' ');\r\n        if (words.length > 1) {\r\n          // Try without the street number first\r\n          const broaderQuery = words.slice(1).join(' ');\r\n          const broaderParams = new URLSearchParams({\r\n            format: 'json',\r\n            q: broaderQuery,\r\n            countrycodes: 'us',\r\n            addressdetails: '1',\r\n            limit: '10',\r\n            dedupe: '1'\r\n          });\r\n          \r\n          const broaderResponse = await fetch(`https://nominatim.openstreetmap.org/search?${broaderParams}`);\r\n          const broaderData = await broaderResponse.json();\r\n          setSuggestions(broaderData);\r\n          return;\r\n        }\r\n      }\r\n      \r\n      setSuggestions(data);\r\n    } catch (error) {\r\n      console.error(\"Search error:\", error);\r\n      setSuggestions([]);\r\n    }\r\n  };\r\n\r\n  // Debounce the search input so that it fetches after a short delay\r\n  useEffect(() => {\r\n    const timeoutId = setTimeout(() => {\r\n      if (query.length > 1) { // Reduced from 2 to 1 character\r\n        fetchSuggestions();\r\n      } else {\r\n        setSuggestions([]);\r\n      }\r\n    }, 300); // Reduced from 500ms to 300ms\r\n    return () => clearTimeout(timeoutId);\r\n  }, [query]);\r\n\r\n  // Handle manual geocoding for exact addresses\r\n  const handleManualGeocode = async () => {\r\n    if (!query.trim()) return;\r\n    \r\n    try {\r\n      const params = new URLSearchParams({\r\n        format: 'json',\r\n        q: query.trim(),\r\n        countrycodes: 'us',\r\n        addressdetails: '1',\r\n        limit: '1'\r\n      });\r\n      \r\n      const response = await fetch(`https://nominatim.openstreetmap.org/search?${params}`);\r\n      const data = await response.json();\r\n      \r\n      if (data.length > 0) {\r\n        const result = data[0];\r\n        const lat = parseFloat(result.lat);\r\n        const lon = parseFloat(result.lon);\r\n        onChange(lat, lon, query.trim());\r\n        setSuggestions([]);\r\n      } else {\r\n        // If no exact match, try to geocode the address anyway\r\n        // This will help with addresses that might not be in the database\r\n        console.log('No exact match found, but keeping the address as entered');\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Manual geocoding error:\", error);\r\n    }\r\n  };\r\n\r\n  // Handle user selecting a suggestion from the dropdown\r\n  const handleSelectSuggestion = (suggestion: any) => {\r\n    const lat = parseFloat(suggestion.lat);\r\n    const lon = parseFloat(suggestion.lon);\r\n    setQuery(suggestion.display_name);\r\n    setSuggestions([]);\r\n    onChange(lat, lon, suggestion.display_name);\r\n  };\r\n\r\n  // Allow map clicks to update location\r\n  function LocationMarker() {\r\n    useMapEvents({\r\n      click(e) {\r\n        onChange(e.latlng.lat, e.latlng.lng, query);\r\n      },\r\n    });\r\n    return latitude && longitude ? <Marker position={[latitude, longitude]} /> : null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      {/* Search Field with Suggestions Dropdown */}\r\n      <div className=\"mb-4 relative\">\r\n        <div className=\"flex gap-2\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search location...\"\r\n            value={query}\r\n            onChange={(e) => setQuery(e.target.value)}\r\n            className=\"input input-bordered flex-1\"\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleManualGeocode}\r\n            className=\"btn btn-primary\"\r\n            disabled={!query.trim()}\r\n          >\r\n            Find\r\n          </button>\r\n        </div>\r\n        {suggestions.length > 0 && (\r\n          <ul className=\"absolute z-50 bg-white border border-gray-300 w-full max-h-60 overflow-auto mt-1\">\r\n            {suggestions.map((suggestion, index) => (\r\n              <li key={index} onClick={() => handleSelectSuggestion(suggestion)} className=\"p-2 hover:bg-gray-200 cursor-pointer\">\r\n                {suggestion.display_name}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n\r\n      {/* Map Container */}\r\n      <MapContainer center={[latitude || 51.505, longitude || -0.09]} zoom={13} className=\"w-full h-64 rounded z-0\">\r\n        <TileLayer attribution=\"&copy; OpenStreetMap contributors\" url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\r\n        <ChangeMapView coords={[latitude || 51.505, longitude || -0.09]} />\r\n        <LocationMarker />\r\n      </MapContainer>\r\n\r\n      {/* Display Selected Coordinates */}\r\n      <div className=\"mt-2 grid grid-cols-2 gap-2\">\r\n        <input type=\"text\" readOnly className=\"input input-bordered\" value={`Lat: ${latitude.toFixed(4)}`} />\r\n        <input type=\"text\" readOnly className=\"input input-bordered\" value={`Lng: ${longitude.toFixed(4)}`} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;;;;;;;AAKA,6CAA6C;AAC7C,oJAAA,CAAA,UAAC,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;IAC1B,eAAe;IACf,SAAS;IACT,WAAW;AACb;AAQA,uEAAuE;AACvE,SAAS,cAAc,EAAE,MAAM,EAAgC;;IAC7D,MAAM,MAAM,CAAA,GAAA,mJAAA,CAAA,SAAM,AAAD;IACjB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;mCAAE;YACR,IAAI,KAAK,CAAC,QAAQ,IAAI,OAAO,IAAI;gBAAE,SAAS;gBAAM,UAAU;YAAI;QAClE;kCAAG;QAAC;QAAQ;KAAI;IAChB,OAAO;AACT;GANS;;QACK,mJAAA,CAAA,SAAM;;;KADX;AAQF,MAAM,cAA0C,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE;;;IACvF,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAS,EAAE;IAExD,2CAA2C;IAC3C,MAAM,mBAAmB;QACvB,IAAI,CAAC,OAAO;YACV,eAAe,EAAE;YACjB;QACF;QACA,IAAI;YACF,0DAA0D;YAC1D,MAAM,cAAc,MAAM,IAAI;YAC9B,MAAM,SAAS,IAAI,gBAAgB;gBACjC,QAAQ;gBACR,GAAG;gBACH,cAAc;gBACd,gBAAgB;gBAChB,OAAO;gBACP,QAAQ;YACV;YAEA,MAAM,WAAW,MAAM,MAAM,CAAC,2CAA2C,EAAE,QAAQ;YACnF,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,0DAA0D;YAC1D,IAAI,KAAK,MAAM,KAAK,KAAK,YAAY,QAAQ,CAAC,MAAM;gBAClD,MAAM,QAAQ,YAAY,KAAK,CAAC;gBAChC,IAAI,MAAM,MAAM,GAAG,GAAG;oBACpB,sCAAsC;oBACtC,MAAM,eAAe,MAAM,KAAK,CAAC,GAAG,IAAI,CAAC;oBACzC,MAAM,gBAAgB,IAAI,gBAAgB;wBACxC,QAAQ;wBACR,GAAG;wBACH,cAAc;wBACd,gBAAgB;wBAChB,OAAO;wBACP,QAAQ;oBACV;oBAEA,MAAM,kBAAkB,MAAM,MAAM,CAAC,2CAA2C,EAAE,eAAe;oBACjG,MAAM,cAAc,MAAM,gBAAgB,IAAI;oBAC9C,eAAe;oBACf;gBACF;YACF;YAEA,eAAe;QACjB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iBAAiB;YAC/B,eAAe,EAAE;QACnB;IACF;IAEA,mEAAmE;IACnE,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;iCAAE;YACR,MAAM,YAAY;mDAAW;oBAC3B,IAAI,MAAM,MAAM,GAAG,GAAG;wBACpB;oBACF,OAAO;wBACL,eAAe,EAAE;oBACnB;gBACF;kDAAG,MAAM,8BAA8B;YACvC;yCAAO,IAAM,aAAa;;QAC5B;gCAAG;QAAC;KAAM;IAEV,8CAA8C;IAC9C,MAAM,sBAAsB;QAC1B,IAAI,CAAC,MAAM,IAAI,IAAI;QAEnB,IAAI;YACF,MAAM,SAAS,IAAI,gBAAgB;gBACjC,QAAQ;gBACR,GAAG,MAAM,IAAI;gBACb,cAAc;gBACd,gBAAgB;gBAChB,OAAO;YACT;YAEA,MAAM,WAAW,MAAM,MAAM,CAAC,2CAA2C,EAAE,QAAQ;YACnF,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,KAAK,MAAM,GAAG,GAAG;gBACnB,MAAM,SAAS,IAAI,CAAC,EAAE;gBACtB,MAAM,MAAM,WAAW,OAAO,GAAG;gBACjC,MAAM,MAAM,WAAW,OAAO,GAAG;gBACjC,SAAS,KAAK,KAAK,MAAM,IAAI;gBAC7B,eAAe,EAAE;YACnB,OAAO;gBACL,uDAAuD;gBACvD,kEAAkE;gBAClE,QAAQ,GAAG,CAAC;YACd;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;QAC3C;IACF;IAEA,uDAAuD;IACvD,MAAM,yBAAyB,CAAC;QAC9B,MAAM,MAAM,WAAW,WAAW,GAAG;QACrC,MAAM,MAAM,WAAW,WAAW,GAAG;QACrC,SAAS,WAAW,YAAY;QAChC,eAAe,EAAE;QACjB,SAAS,KAAK,KAAK,WAAW,YAAY;IAC5C;IAEA,sCAAsC;IACtC,SAAS;;QACP,CAAA,GAAA,mJAAA,CAAA,eAAY,AAAD,EAAE;YACX,OAAM,CAAC;gBACL,SAAS,EAAE,MAAM,CAAC,GAAG,EAAE,EAAE,MAAM,CAAC,GAAG,EAAE;YACvC;QACF;QACA,OAAO,YAAY,0BAAY,6LAAC,oJAAA,CAAA,SAAM;YAAC,UAAU;gBAAC;gBAAU;aAAU;;;;;mBAAO;IAC/E;OAPS;;YACP,mJAAA,CAAA,eAAY;;;IAQd,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,MAAK;gCACL,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gCACxC,WAAU;;;;;;0CAEZ,6LAAC;gCACC,MAAK;gCACL,SAAS;gCACT,WAAU;gCACV,UAAU,CAAC,MAAM,IAAI;0CACtB;;;;;;;;;;;;oBAIF,YAAY,MAAM,GAAG,mBACpB,6LAAC;wBAAG,WAAU;kCACX,YAAY,GAAG,CAAC,CAAC,YAAY,sBAC5B,6LAAC;gCAAe,SAAS,IAAM,uBAAuB;gCAAa,WAAU;0CAC1E,WAAW,YAAY;+BADjB;;;;;;;;;;;;;;;;0BASjB,6LAAC,0JAAA,CAAA,eAAY;gBAAC,QAAQ;oBAAC,YAAY;oBAAQ,aAAa,CAAC;iBAAK;gBAAE,MAAM;gBAAI,WAAU;;kCAClF,6LAAC,uJAAA,CAAA,YAAS;wBAAC,aAAY;wBAAoC,KAAI;;;;;;kCAC/D,6LAAC;wBAAc,QAAQ;4BAAC,YAAY;4BAAQ,aAAa,CAAC;yBAAK;;;;;;kCAC/D,6LAAC;;;;;;;;;;;0BAIH,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAM,MAAK;wBAAO,QAAQ;wBAAC,WAAU;wBAAuB,OAAO,CAAC,KAAK,EAAE,SAAS,OAAO,CAAC,IAAI;;;;;;kCACjG,6LAAC;wBAAM,MAAK;wBAAO,QAAQ;wBAAC,WAAU;wBAAuB,OAAO,CAAC,KAAK,EAAE,UAAU,OAAO,CAAC,IAAI;;;;;;;;;;;;;;;;;;AAI1G;IAnKa;MAAA"}},
    {"offset": {"line": 321, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 327, "column": 0}, "map": {"version":3,"sources":["file://E%3A/nvm/src/components/winery-stepper/basic-info-step.tsx"],"sourcesContent":["import { Winery } from \"@/app/interfaces\";\r\nimport { ChangeEvent } from \"react\";\r\nimport { MapSelector } from \"../map/map-selector\";\r\n\r\ntype BasicInfoFormProps = {\r\n  formData: Winery;\r\n  setFormData: React.Dispatch<React.SetStateAction<Winery>>;\r\n};\r\n\r\nexport const BasicInfoForm: React.FC<BasicInfoFormProps> = ({ formData, setFormData }) => {\r\n  const handleChange = (e: any) => {\r\n    const { name, value, type, checked } = e.target;\r\n    const val = type === \"checkbox\" ? checked : value;\r\n    setFormData((prev) => ({ ...prev, [name]: val }));\r\n  };\r\n\r\n  const handleNestedChange = (e: any, parent: keyof Winery, field: string) => {\r\n    const { value, type, checked } = e.target;\r\n    const val = type === \"checkbox\" ? checked : value;\r\n    setFormData({ ...formData, [parent]: { ...(formData[parent] as any), [field]: val } });\r\n  };\r\n\r\n  const updateLocation = (lat: number, lng: number, address: string) => {\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      location: { ...prev.location, latitude: lat, longitude: lng, address },\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* Basic & Contact Info */}\r\n      <div className=\"form-control\">\r\n        <label className=\"label\">\r\n          <span className=\"label-text\">Winery Name</span>\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"name\"\r\n          placeholder=\"Winery name\"\r\n          className=\"input input-bordered\"\r\n          value={formData.name}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n      <div className=\"form-control\">\r\n        <label className=\"label\">\r\n          <span className=\"label-text\">Description</span>\r\n        </label>\r\n        <textarea\r\n          name=\"description\"\r\n          placeholder=\"Description\"\r\n          className=\"textarea textarea-bordered\"\r\n          value={formData.description}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n        <div className=\"form-control\">\r\n          <label className=\"label\">\r\n            <span className=\"label-text\">Email</span>\r\n          </label>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Email\"\r\n            className=\"input input-bordered\"\r\n            value={formData.contact_info.email}\r\n            onChange={(e) => handleNestedChange(e, \"contact_info\", \"email\")}\r\n          />\r\n        </div>\r\n        <div className=\"form-control\">\r\n          <label className=\"label\">\r\n            <span className=\"label-text\">Phone</span>\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"phone\"\r\n            placeholder=\"Phone\"\r\n            className=\"input input-bordered\"\r\n            value={formData.contact_info.phone}\r\n            onChange={(e) => handleNestedChange(e, \"contact_info\", \"phone\")}\r\n          />\r\n        </div>\r\n        <div className=\"form-control\">\r\n          <label className=\"label\">\r\n            <span className=\"label-text\">Website</span>\r\n          </label>\r\n          <input\r\n            type=\"url\"\r\n            name=\"website\"\r\n            placeholder=\"Website\"\r\n            className=\"input input-bordered\"\r\n            value={formData.contact_info.website}\r\n            onChange={(e) => handleNestedChange(e, \"contact_info\", \"website\")}\r\n          />\r\n        </div>\r\n      </div>\r\n      {/* Location */}\r\n      <div className=\"space-y-2\">\r\n        <label className=\"label\">\r\n          <span className=\"label-text\">Address</span>\r\n        </label>\r\n        <MapSelector latitude={formData.location.latitude} longitude={formData.location.longitude} onChange={updateLocation} />\r\n        <div className=\"form-control\">\r\n          <label className=\"cursor-pointer label\">\r\n            <span className=\"label-text\">Is Mountain Location?</span>\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={formData.location.is_mountain_location}\r\n              onChange={(e) => handleNestedChange(e, \"location\", \"is_mountain_location\")}\r\n              className=\"checkbox\"\r\n            />\r\n          </label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 636, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 642, "column": 0}, "map": {"version":3,"sources":["file://E%3A/nvm/src/components/datetime-picker.tsx"],"sourcesContent":["import { useState } from \"react\";\r\n\r\ntype MultiDateTimePickerProps = {\r\n  dates: Date[];\r\n  onChange: (dates: Date[]) => void;\r\n};\r\nexport const MultiDateTimePicker: React.FC<MultiDateTimePickerProps> = ({ dates, onChange }) => {\r\n  const [newDateTime, setNewDateTime] = useState(\"\");\r\n  const addDate = () => {\r\n    if (newDateTime) {\r\n      const date = new Date(newDateTime);\r\n      if (!isNaN(date.getTime())) {\r\n        onChange([...dates, date]);\r\n        setNewDateTime(\"\");\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"space-y-2\">\r\n        {dates.map((d, i) => (\r\n          <div key={i} className=\"flex items-center justify-between bg-base-200 p-2 rounded\">\r\n            <span className=\"text-sm\">{d.toLocaleString()}</span>\r\n            <button type=\"button\" onClick={() => onChange(dates.filter((_, j) => j !== i))} className=\"btn btn-xs btn-error\">\r\n              Remove\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"mt-3 flex gap-2\">\r\n        <input\r\n          type=\"datetime-local\"\r\n          className=\"input input-bordered flex-1\"\r\n          value={newDateTime}\r\n          onChange={(e) => setNewDateTime(e.target.value)}\r\n        />\r\n        <button type=\"button\" onClick={addDate} className=\"btn btn-primary\">\r\n          Add\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;;;;AAMO,MAAM,sBAA0D,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE;;IACzF,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,UAAU;QACd,IAAI,aAAa;YACf,MAAM,OAAO,IAAI,KAAK;YACtB,IAAI,CAAC,MAAM,KAAK,OAAO,KAAK;gBAC1B,SAAS;uBAAI;oBAAO;iBAAK;gBACzB,eAAe;YACjB;QACF;IACF;IACA,qBACE,6LAAC;;0BACC,6LAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,GAAG,kBACb,6LAAC;wBAAY,WAAU;;0CACrB,6LAAC;gCAAK,WAAU;0CAAW,EAAE,cAAc;;;;;;0CAC3C,6LAAC;gCAAO,MAAK;gCAAS,SAAS,IAAM,SAAS,MAAM,MAAM,CAAC,CAAC,GAAG,IAAM,MAAM;gCAAK,WAAU;0CAAuB;;;;;;;uBAFzG;;;;;;;;;;0BAQd,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,MAAK;wBACL,WAAU;wBACV,OAAO;wBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;kCAEhD,6LAAC;wBAAO,MAAK;wBAAS,SAAS;wBAAS,WAAU;kCAAkB;;;;;;;;;;;;;;;;;;AAM5E;GApCa;KAAA"}},
    {"offset": {"line": 744, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 750, "column": 0}, "map": {"version":3,"sources":["file://E%3A/nvm/src/components/Multi-image-upload.tsx"],"sourcesContent":["import { ChangeEvent } from \"react\";\r\n\r\ntype MultipleImageUploadProps = {\r\n  files: File[];\r\n  onChange: (files: File[]) => void;\r\n};\r\nexport const MultipleImageUpload: React.FC<MultipleImageUploadProps> = ({ files, onChange }) => {\r\n  const handleFiles = (e: ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files) {\r\n      onChange([...files, ...Array.from(e.target.files)]);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <input type=\"file\" multiple onChange={handleFiles} className=\"file-input file-input-bordered mb-3\" />\r\n      <div className=\"flex flex-wrap gap-4\">\r\n        {files.map((file, i) => (\r\n          <div key={i} className=\"relative\">\r\n            <img src={URL.createObjectURL(file)} alt=\"preview\" className=\"w-24 h-24 object-cover rounded\" />\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => onChange(files.filter((_, j) => j !== i))}\r\n              className=\"absolute top-0 right-0 btn btn-xs btn-error\"\r\n            >\r\n              &times;\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAMO,MAAM,sBAA0D,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE;IACzF,MAAM,cAAc,CAAC;QACnB,IAAI,EAAE,MAAM,CAAC,KAAK,EAAE;YAClB,SAAS;mBAAI;mBAAU,MAAM,IAAI,CAAC,EAAE,MAAM,CAAC,KAAK;aAAE;QACpD;IACF;IACA,qBACE,6LAAC;;0BACC,6LAAC;gBAAM,MAAK;gBAAO,QAAQ;gBAAC,UAAU;gBAAa,WAAU;;;;;;0BAC7D,6LAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,MAAM,kBAChB,6LAAC;wBAAY,WAAU;;0CACrB,6LAAC;gCAAI,KAAK,IAAI,eAAe,CAAC;gCAAO,KAAI;gCAAU,WAAU;;;;;;0CAC7D,6LAAC;gCACC,MAAK;gCACL,SAAS,IAAM,SAAS,MAAM,MAAM,CAAC,CAAC,GAAG,IAAM,MAAM;gCACrD,WAAU;0CACX;;;;;;;uBANO;;;;;;;;;;;;;;;;AAcpB;KAzBa"}},
    {"offset": {"line": 824, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 830, "column": 0}, "map": {"version":3,"sources":["file://E%3A/nvm/src/data/data.ts"],"sourcesContent":["export const regions = [\r\n  \"Calistoga\",\r\n  \"Diamond Mountain\",\r\n  \"St. Helena\",\r\n  \"Rutherford\",\r\n  \"Oakville\",\r\n  \"Los Carneros (Carneros)\",\r\n  \"Howell Mountain\",\r\n  \"Wild Horse Valley\",\r\n  \"Stags Leap District\",\r\n  \"Mt. Veeder\",\r\n  \"Atlas Peak\",\r\n  \"Spring Mountain District\",\r\n  \"Chiles Valley\",\r\n  \"Yountville\",\r\n  \"Oak Knoll District of Napa Valley\",\r\n  \"Coombsville\",\r\n  \"Crystal Springs of Napa Valley\",\r\n];\r\n\r\nexport const wineTypes = [\"Red\", \"Rosé\", \"White\", \"Sparkling\", \"Dessert\"];\r\n\r\nexport const specialFeatures = [\"Tasting Waived with Bottle Purchase\", \"Tour Available\", \"Food Available\", \"Family-Friendly\", \"Pet Friendly\", \"Organic\", \"Walk-ins Welcome\"];\r\n\r\nexport const timeOptions = [\"Morning\", \"Afternoon\", \"Evening\"];\r\n\r\n// Ordered AVAs (north-to-south, with mountain districts grouped)\r\nexport const avaOrder: string[] = [\r\n  \"Calistoga\",\r\n  \"Diamond Mountain\",\r\n  \"Spring Mountain District\",\r\n  \"Howell Mountain\",\r\n  \"St. Helena\",\r\n  \"Rutherford\",\r\n  \"Oakville\",\r\n  \"Yountville\",\r\n  \"Stags Leap District\",\r\n  \"Oak Knoll District of Napa Valley\",\r\n  \"Mt. Veeder\",\r\n  \"Atlas Peak\",\r\n  \"Chiles Valley\",\r\n  \"Coombsville\",\r\n  \"Wild Horse Valley\",\r\n  \"Los Carneros (Carneros)\",\r\n];\r\n\r\n// AVA information (fill in with authoritative copy from the Word document)\r\nexport const avaInfo: Record<string, string> = {\r\n  \"Calistoga\": \"Known for warm climate; bold Cabernet Sauvignon and Zinfandel.\",\r\n  \"Diamond Mountain\": \"Mountain AVA; structured Cabernet with firm tannins.\",\r\n  \"Spring Mountain District\": \"High-elevation vineyards; elegant, age-worthy reds.\",\r\n  \"Howell Mountain\": \"Cool nights; intense Cabernets with notable acidity.\",\r\n  \"St. Helena\": \"Historic heart of Napa; balanced reds and whites.\",\r\n  \"Rutherford\": \"Famous ‘Rutherford dust’; classic Cabernet terroir.\",\r\n  \"Oakville\": \"Benchmark Cabernets; gravelly alluvial fans.\",\r\n  \"Yountville\": \"Moderate climate; Merlot and Cabernet blends.\",\r\n  \"Stags Leap District\": \"Silky tannins; perfumed Cabernets.\",\r\n  \"Oak Knoll District of Napa Valley\": \"Cooler AVA; Chardonnay and Merlot shine.\",\r\n  \"Mt. Veeder\": \"Steep slopes; powerful, structured reds.\",\r\n  \"Atlas Peak\": \"High elevation; concentrated fruit and acidity.\",\r\n  \"Chiles Valley\": \"Higher, cooler; Zinfandel and Cabernet.\",\r\n  \"Coombsville\": \"Volcanic soils; elegant, cooler-climate Cabernets.\",\r\n  \"Wild Horse Valley\": \"Cool and windy; Pinot Noir and Chardonnay.\",\r\n  \"Los Carneros (Carneros)\": \"Coolest AVA; Pinot Noir and Chardonnay.\",\r\n};\r\n\r\n// Mountain AVAs for the Mountain Location filter\r\nexport const mountainAVAs: string[] = [\r\n  \"Diamond Mountain\",\r\n  \"Howell Mountain\",\r\n  \"Mt. Veeder\",\r\n  \"Atlas Peak\",\r\n  \"Spring Mountain District\",\r\n];"],"names":[],"mappings":";;;;;;;;;AAAO,MAAM,UAAU;IACrB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,YAAY;IAAC;IAAO;IAAQ;IAAS;IAAa;CAAU;AAElE,MAAM,kBAAkB;IAAC;IAAuC;IAAkB;IAAkB;IAAmB;IAAgB;IAAW;CAAmB;AAErK,MAAM,cAAc;IAAC;IAAW;IAAa;CAAU;AAGvD,MAAM,WAAqB;IAChC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAGM,MAAM,UAAkC;IAC7C,aAAa;IACb,oBAAoB;IACpB,4BAA4B;IAC5B,mBAAmB;IACnB,cAAc;IACd,cAAc;IACd,YAAY;IACZ,cAAc;IACd,uBAAuB;IACvB,qCAAqC;IACrC,cAAc;IACd,cAAc;IACd,iBAAiB;IACjB,eAAe;IACf,qBAAqB;IACrB,2BAA2B;AAC7B;AAGO,MAAM,eAAyB;IACpC;IACA;IACA;IACA;IACA;CACD"}},
    {"offset": {"line": 925, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 931, "column": 0}, "map": {"version":3,"sources":["file://E%3A/nvm/src/components/winery-stepper/tasting-booking-step.tsx"],"sourcesContent":["import { ChangeEvent, useState } from \"react\";\r\nimport { MultiDateTimePicker } from \"../datetime-picker\";\r\nimport { Winery, TastingInfo, Tours, WineDetail, BookingInfo, FoodPairingOption } from \"@/app/interfaces\";\r\nimport { MultipleImageUpload } from \"../Multi-image-upload\";\r\nimport { timeOptions, wineTypes, specialFeatures, regions } from \"@/data/data\";\r\nimport Select from \"react-select\";\r\nimport { FaMapMarkerAlt } from \"react-icons/fa\";\r\n\r\ntype TastingBookingFormProps = {\r\n  formData: Winery;\r\n  setFormData: React.Dispatch<React.SetStateAction<Winery>>;\r\n  uploadedFiles: File[];\r\n  setUploadedFiles: React.Dispatch<React.SetStateAction<File[]>>;\r\n  availableSlotDates: Date[];\r\n  setAvailableSlotDates: React.Dispatch<React.SetStateAction<Date[]>>;\r\n  tastingImages: { [key: number]: File[] };\r\n  setTastingImages: React.Dispatch<React.SetStateAction<{ [key: number]: File[] }>>;\r\n};\r\n\r\nexport const TastingBookingForm: React.FC<TastingBookingFormProps> = ({\r\n  formData,\r\n  setFormData,\r\n  uploadedFiles,\r\n  setUploadedFiles,\r\n  availableSlotDates,\r\n  setAvailableSlotDates,\r\n  tastingImages,\r\n  setTastingImages,\r\n}) => {\r\n  const [foodPairingOption, setFoodPairingOption] = useState<FoodPairingOption>({ id: \"\", name: \"\", price: 0 });\r\n  const [newWine, setNewWine] = useState<WineDetail>({ id: \"\", name: \"\", description: \"\", year: undefined, tasting_notes: \"\", photo: \"\" });\r\n  const [newTour, setNewTour] = useState<{ description: string; cost: number }>({ description: \"\", cost: 0 });\r\n  const [otherFeature, setOtherFeature] = useState<{ description: string; cost: number }>({ description: \"\", cost: 0 });\r\n  const [tastingWinePhotos, setTastingWinePhotos] = useState<{ [key: number]: File[] }>({});\r\n  \r\n  // Local state for input values to allow empty inputs\r\n  const [inputValues, setInputValues] = useState<{\r\n    [key: string]: string;\r\n  }>({});\r\n\r\n  const addTasting = (index: number) => () => {\r\n    const newTasting: TastingInfo = {\r\n      tasting_title: ``,\r\n      tasting_description: \"\",\r\n      tasting_price: 0,\r\n      available_times: [],\r\n      wine_types: [],\r\n      number_of_wines_per_tasting: 1,\r\n      special_features: [],\r\n      images: [],\r\n      food_pairing_options: [],\r\n      tours: { available: false, tour_price: 0, tour_options: [] },\r\n      wine_details: [],\r\n      ava: \"\",\r\n      booking_info: {\r\n        booking_enabled: false,\r\n        max_guests_per_slot: 1,\r\n        number_of_people: [1, 10],\r\n        dynamic_pricing: { enabled: false, weekend_multiplier: 1 },\r\n        available_slots: [],\r\n      },\r\n      other_features: [],\r\n    };\r\n\r\n    setFormData((prev) => {\r\n      const updatedTastings = [...prev.tasting_info];\r\n      updatedTastings.splice(index + 1, 0, newTasting);\r\n      return { ...prev, tasting_info: updatedTastings };\r\n    });\r\n    setUploadedFiles([]);\r\n    setAvailableSlotDates([]);\r\n    \r\n    // Clear input values for the new tasting\r\n    setInputValues(prev => {\r\n      const newInputValues = { ...prev };\r\n      const newIndex = index + 1;\r\n      delete newInputValues[`wines_${newIndex}`];\r\n      delete newInputValues[`people_${newIndex}_0`];\r\n      delete newInputValues[`people_${newIndex}_1`];\r\n      return newInputValues;\r\n    });\r\n  };\r\n\r\n  const addInitialTasting = () => {\r\n    const newTasting: TastingInfo = {\r\n      tasting_title: `Tasting 1`,\r\n      tasting_description: \"Initial tasting experience\",\r\n      tasting_price: 0,\r\n      available_times: [],\r\n      wine_types: [],\r\n      number_of_wines_per_tasting: 1,\r\n      special_features: [],\r\n      images: [],\r\n      food_pairing_options: [],\r\n      tours: { available: false, tour_price: 0, tour_options: [] },\r\n      wine_details: [],\r\n      ava: \"\",\r\n      booking_info: {\r\n        booking_enabled: false,\r\n        max_guests_per_slot: 1,\r\n        number_of_people: [1, 10],\r\n        dynamic_pricing: { enabled: false, weekend_multiplier: 1 },\r\n        available_slots: [],\r\n      },\r\n      other_features: [],\r\n    };\r\n\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      tasting_info: [newTasting],\r\n    }));\r\n    setUploadedFiles([]);\r\n    setAvailableSlotDates([]);\r\n    \r\n    // Clear input values for the new tasting\r\n    setInputValues(prev => {\r\n      const newInputValues = { ...prev };\r\n      delete newInputValues[`wines_0`];\r\n      delete newInputValues[`people_0_0`];\r\n      delete newInputValues[`people_0_1`];\r\n      return newInputValues;\r\n    });\r\n  };\r\n\r\n  const removeTasting = (index: number) => {\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      tasting_info: prev.tasting_info.filter((_, i) => i !== index),\r\n    }));\r\n    \r\n    // Clear input values for the removed tasting\r\n    setInputValues(prev => {\r\n      const newInputValues = { ...prev };\r\n      delete newInputValues[`wines_${index}`];\r\n      delete newInputValues[`people_${index}_0`];\r\n      delete newInputValues[`people_${index}_1`];\r\n      return newInputValues;\r\n    });\r\n  };\r\n\r\n  const handleTastingChange = (index: number, field: keyof TastingInfo, value: any) => {\r\n    setFormData((prev) => {\r\n      const updatedTastings = [...prev.tasting_info];\r\n      updatedTastings[index] = { ...updatedTastings[index], [field]: value };\r\n      return { ...prev, tasting_info: updatedTastings };\r\n    });\r\n  };\r\n\r\n  const handleTastingPriceChange = (index: number) => (e: ChangeEvent<HTMLInputElement>) => {\r\n    const value = parseFloat(e.target.value) || 0;\r\n    handleTastingChange(index, \"tasting_price\", value);\r\n  };\r\n\r\n  const handleSelectChange = (index: number, field: \"available_times\" | \"wine_types\" | \"special_features\" | \"ava\") => (selected: any) => {\r\n    const values = selected.map((s: any) => s.value);\r\n    handleTastingChange(index, field, values);\r\n  };\r\n\r\n  const updateSlotDates = (index: number) => (dates: Date[]) => {\r\n    setAvailableSlotDates(dates);\r\n    handleTastingChange(index, \"booking_info\", {\r\n      ...formData.tasting_info[index].booking_info,\r\n      available_slots: dates.map((d) => d.toISOString()),\r\n    });\r\n  };\r\n\r\n  const addFoodPairingOption = (index: number) => () => {\r\n    if (foodPairingOption.name && foodPairingOption.price >= 0) {\r\n      setFormData((prev) => {\r\n        const updatedTastings = [...prev.tasting_info];\r\n        updatedTastings[index] = {\r\n          ...updatedTastings[index],\r\n          food_pairing_options: [\r\n            ...(updatedTastings[index].food_pairing_options || []),\r\n            { id: crypto.randomUUID(), name: foodPairingOption.name, price: foodPairingOption.price },\r\n          ],\r\n        };\r\n        return { ...prev, tasting_info: updatedTastings };\r\n      });\r\n      setFoodPairingOption({ id: \"\", name: \"\", price: 0 });\r\n    }\r\n  };\r\n\r\n  const removeFoodPairingOption = (tastingIndex: number, optionIndex: number) => {\r\n    setFormData((prev) => {\r\n      const updatedTastings = [...prev.tasting_info];\r\n      updatedTastings[tastingIndex] = {\r\n        ...updatedTastings[tastingIndex],\r\n        food_pairing_options: updatedTastings[tastingIndex].food_pairing_options.filter((_, i) => i !== optionIndex),\r\n      };\r\n      return { ...prev, tasting_info: updatedTastings };\r\n    });\r\n  };\r\n\r\n  const addWine = (index: number) => () => {\r\n    if (newWine.name && newWine.description) {\r\n      const currentWinePhotos = tastingWinePhotos[index] || [];\r\n      setFormData((prev) => {\r\n        const updatedTastings = [...prev.tasting_info];\r\n        updatedTastings[index] = {\r\n          ...updatedTastings[index],\r\n          wine_details: [\r\n            ...(updatedTastings[index].wine_details || []),\r\n            {\r\n              id: crypto.randomUUID(),\r\n              name: newWine.name,\r\n              description: newWine.description,\r\n              year: newWine.year ? parseInt(newWine.year.toString()) : undefined,\r\n              tasting_notes: newWine.tasting_notes,\r\n              photo: currentWinePhotos[0] ? URL.createObjectURL(currentWinePhotos[0]) : undefined,\r\n            },\r\n          ],\r\n        };\r\n        return { ...prev, tasting_info: updatedTastings };\r\n      });\r\n      setNewWine({ id: \"\", name: \"\", description: \"\", year: undefined, tasting_notes: \"\", photo: \"\" });\r\n      setTastingWinePhotos(prev => ({\r\n        ...prev,\r\n        [index]: []\r\n      }));\r\n    }\r\n  };\r\n\r\n  const removeWine = (tastingIndex: number, wineIndex: number) => {\r\n    setFormData((prev) => {\r\n      const updatedTastings = [...prev.tasting_info];\r\n      updatedTastings[tastingIndex] = {\r\n        ...updatedTastings[tastingIndex],\r\n        wine_details: updatedTastings[tastingIndex].wine_details.filter((_, i) => i !== wineIndex),\r\n      };\r\n      return { ...prev, tasting_info: updatedTastings };\r\n    });\r\n  };\r\n\r\n  const submitTour = (index: number) => () => {\r\n    if (newTour.description && newTour.cost >= 0) {\r\n      setFormData((prev) => {\r\n        const updatedTastings = [...prev.tasting_info];\r\n        updatedTastings[index] = {\r\n          ...updatedTastings[index],\r\n          tours: {\r\n            ...updatedTastings[index].tours,\r\n            available: true,\r\n            tour_options: [...(updatedTastings[index].tours.tour_options || []), { description: newTour.description, cost: newTour.cost }],\r\n          },\r\n        };\r\n        return { ...prev, tasting_info: updatedTastings };\r\n      });\r\n      setNewTour({ description: \"\", cost: 0 });\r\n    }\r\n  };\r\n\r\n  const removeTour = (tastingIndex: number, tourIndex: number) => {\r\n    setFormData((prev) => {\r\n      const updatedTastings = [...prev.tasting_info];\r\n      updatedTastings[tastingIndex] = {\r\n        ...updatedTastings[tastingIndex],\r\n        tours: {\r\n          ...updatedTastings[tastingIndex].tours,\r\n          tour_options: updatedTastings[tastingIndex].tours.tour_options.filter((_, i) => i !== tourIndex),\r\n        },\r\n      };\r\n      return { ...prev, tasting_info: updatedTastings };\r\n    });\r\n  };\r\n\r\n  const addOtherFeature = (index: number) => () => {\r\n    if (otherFeature.description && newTour.cost >= 0) {\r\n      setFormData((prev) => {\r\n        const updatedTastings = [...prev.tasting_info];\r\n        updatedTastings[index] = {\r\n          ...updatedTastings[index],\r\n          other_features: [\r\n            ...(updatedTastings[index].other_features || []),\r\n            { description: otherFeature.description, cost: otherFeature.cost },\r\n          ],\r\n        };\r\n        return { ...prev, tasting_info: updatedTastings };\r\n      });\r\n      setOtherFeature({ description: \"\", cost: 0 });\r\n    }\r\n  };\r\n\r\n  const removeFeature = (tastingIndex: number, featureIndex: number) => {\r\n    setFormData((prev) => {\r\n      const updatedTastings = [...prev.tasting_info];\r\n      updatedTastings[tastingIndex] = {\r\n        ...updatedTastings[tastingIndex],\r\n        other_features: updatedTastings[tastingIndex].other_features.filter((_, i) => i !== featureIndex),\r\n      };\r\n      return { ...prev, tasting_info: updatedTastings };\r\n    });\r\n  };\r\n\r\n  const handleExternalBookingLinkChange = (index: number) => (e: ChangeEvent<HTMLInputElement>) => {\r\n    setFormData((prev) => {\r\n      const updatedTastings = [...prev.tasting_info];\r\n      updatedTastings[index] = {\r\n        ...updatedTastings[index],\r\n        booking_info: { ...updatedTastings[index].booking_info, external_booking_link: e.target.value },\r\n      };\r\n      return { ...prev, tasting_info: updatedTastings };\r\n    });\r\n  };\r\n\r\n  const handleNumberOfWinesChange = (index: number) => (e: ChangeEvent<HTMLInputElement>) => {\r\n    const inputValue = e.target.value;\r\n    const key = `wines_${index}`;\r\n    \r\n    // Update local input state\r\n    setInputValues(prev => ({\r\n      ...prev,\r\n      [key]: inputValue\r\n    }));\r\n    \r\n    if (inputValue === \"\") {\r\n      return;\r\n    }\r\n    \r\n    const parsedValue = parseInt(inputValue);\r\n    if (isNaN(parsedValue)) {\r\n      return;\r\n    }\r\n    \r\n    const value = Math.max(1, parsedValue);\r\n    handleTastingChange(index, \"number_of_wines_per_tasting\", value);\r\n  };\r\n\r\n  const handleNumberOfPeopleChange = (index: number, position: 0 | 1) => (e: ChangeEvent<HTMLInputElement>) => {\r\n    const inputValue = e.target.value;\r\n    const key = `people_${index}_${position}`;\r\n    \r\n    // Update local input state\r\n    setInputValues(prev => ({\r\n      ...prev,\r\n      [key]: inputValue\r\n    }));\r\n    \r\n    if (inputValue === \"\") {\r\n      return;\r\n    }\r\n    \r\n    const parsedValue = parseInt(inputValue);\r\n    if (isNaN(parsedValue)) {\r\n      return;\r\n    }\r\n    \r\n    const value = Math.max(1, parsedValue);\r\n    \r\n    setFormData((prev) => {\r\n      const updatedTastings = [...prev.tasting_info];\r\n      const newNumberOfPeople = [...updatedTastings[index].booking_info.number_of_people];\r\n      newNumberOfPeople[position] = value;\r\n      \r\n      // Ensure max is greater than min\r\n      if (position === 0 && newNumberOfPeople[1] <= value) {\r\n        newNumberOfPeople[1] = value + 1;\r\n      } else if (position === 1 && newNumberOfPeople[0] >= value) {\r\n        newNumberOfPeople[0] = Math.max(1, value - 1);\r\n      }\r\n      \r\n      updatedTastings[index] = {\r\n        ...updatedTastings[index],\r\n        booking_info: { ...updatedTastings[index].booking_info, number_of_people: newNumberOfPeople as [number, number] },\r\n      };\r\n      return { ...prev, tasting_info: updatedTastings };\r\n    });\r\n  };\r\n\r\n  const handleTastingImagesChange = (index: number) => (files: File[]) => {\r\n    setTastingImages(prev => ({\r\n      ...prev,\r\n      [index]: files\r\n    }));\r\n    \r\n    // Don't create blob URLs here - we'll upload to ImgBB later\r\n    // Just store the files for now\r\n  };\r\n\r\n  // Function to get current images for a tasting (either from uploaded files or existing images)\r\n  const getTastingImages = (index: number) => {\r\n    const uploadedFiles = tastingImages[index] || [];\r\n    return uploadedFiles;\r\n  };\r\n\r\n  const removeTastingImage = (tastingIndex: number, imageIndex: number) => {\r\n    setFormData((prev) => {\r\n      const updatedTastings = [...prev.tasting_info];\r\n      const currentImages = [...updatedTastings[tastingIndex].images];\r\n      currentImages.splice(imageIndex, 1);\r\n      updatedTastings[tastingIndex] = {\r\n        ...updatedTastings[tastingIndex],\r\n        images: currentImages\r\n      };\r\n      return { ...prev, tasting_info: updatedTastings };\r\n    });\r\n  };\r\n\r\n  const removeNewTastingImage = (tastingIndex: number, fileIndex: number) => {\r\n    setTastingImages(prev => {\r\n      const currentFiles = [...(prev[tastingIndex] || [])];\r\n      currentFiles.splice(fileIndex, 1);\r\n      return {\r\n        ...prev,\r\n        [tastingIndex]: currentFiles\r\n      };\r\n    });\r\n  };\r\n\r\n  const removeWinePhoto = (tastingIndex: number, wineIndex: number) => {\r\n    setFormData((prev) => {\r\n      const updatedTastings = [...prev.tasting_info];\r\n      const updatedWines = [...updatedTastings[tastingIndex].wine_details];\r\n      updatedWines[wineIndex] = {\r\n        ...updatedWines[wineIndex],\r\n        photo: undefined\r\n      };\r\n      updatedTastings[tastingIndex] = {\r\n        ...updatedTastings[tastingIndex],\r\n        wine_details: updatedWines\r\n      };\r\n      return { ...prev, tasting_info: updatedTastings };\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <h2 className=\"text-2xl font-bold\">Tasting Booking Form</h2>\r\n      {formData.tasting_info.length === 0 ? (\r\n        <div className=\"border p-4 rounded-lg\">\r\n          <h3 className=\"text-xl font-semibold\">No Tastings Added</h3>\r\n          <button type=\"button\" className=\"btn btn-primary mt-4\" onClick={addInitialTasting}>\r\n            Add First Tasting\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        formData.tasting_info.map((tasting, index) => (\r\n          <div key={index} className=\"border p-4 rounded-lg\">\r\n            <h3 className=\"text-xl font-semibold\">Tasting #{index + 1}</h3>\r\n            <button type=\"button\" className=\"btn btn-xs btn-error mb-4\" onClick={() => removeTasting(index)}>\r\n              Remove Tasting\r\n            </button>\r\n\r\n            <div className=\"form-control\">\r\n              <label className=\"label\">Tasting Title</label>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Enter tasting title\"\r\n                className=\"input input-bordered\"\r\n                value={tasting.tasting_title || \"\"}\r\n                onChange={(e) => handleTastingChange(index, \"tasting_title\", e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-control\">\r\n              <label className=\"label\">Tasting Description</label>\r\n              <textarea\r\n                placeholder=\"Description\"\r\n                className=\"textarea textarea-bordered\"\r\n                value={tasting.tasting_description || \"\"}\r\n                onChange={(e) => handleTastingChange(index, \"tasting_description\", e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div className=\"form-control\">\r\n                <label className=\"label\">Number of People Min</label>\r\n                <input\r\n                  type=\"number\"\r\n                  placeholder=\"Enter min number\"\r\n                  className=\"input input-bordered\"\r\n                  value={inputValues[`people_${index}_0`] !== undefined ? inputValues[`people_${index}_0`] : (tasting.booking_info.number_of_people[0] || \"\")}\r\n                  onChange={handleNumberOfPeopleChange(index, 0)}\r\n                  min={1}\r\n                />\r\n                {tasting.booking_info.number_of_people[0] >= tasting.booking_info.number_of_people[1] && (\r\n                  <label className=\"label\">\r\n                    <span className=\"label-text-alt text-error\">Min must be less than max</span>\r\n                  </label>\r\n                )}\r\n              </div>\r\n              <div className=\"form-control\">\r\n                <label className=\"label\">Number of People Max</label>\r\n                <input\r\n                  type=\"number\"\r\n                  placeholder=\"Enter max number\"\r\n                  className=\"input input-bordered\"\r\n                  value={inputValues[`people_${index}_1`] !== undefined ? inputValues[`people_${index}_1`] : (tasting.booking_info.number_of_people[1] || \"\")}\r\n                  onChange={handleNumberOfPeopleChange(index, 1)}\r\n                  min={tasting.booking_info.number_of_people[0] + 1}\r\n                />\r\n                {tasting.booking_info.number_of_people[1] <= tasting.booking_info.number_of_people[0] && (\r\n                  <label className=\"label\">\r\n                    <span className=\"label-text-alt text-error\">Max must be greater than min</span>\r\n                  </label>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-control\">\r\n              <label className=\"label\">Wine Tasting Price</label>\r\n              <input\r\n                type=\"number\"\r\n                placeholder=\"Enter fixed price for tasting (e.g., 100)\"\r\n                className=\"input input-bordered\"\r\n                value={tasting.tasting_price || \"\"}\r\n                onChange={handleTastingPriceChange(index)}\r\n                min={0}\r\n                step=\"0.01\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-control\">\r\n              <label className=\"label\">External Booking Link (Optional)</label>\r\n              <input\r\n                type=\"url\"\r\n                placeholder=\"Enter booking link (e.g., https://winery.com/book)\"\r\n                className=\"input input-bordered\"\r\n                value={tasting.booking_info.external_booking_link || \"\"}\r\n                onChange={handleExternalBookingLinkChange(index)}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div className=\"form-control\">\r\n                <label className=\"label\">Available Times</label>\r\n                <Select\r\n                  isMulti\r\n                  options={timeOptions.map((time) => ({ value: time, label: time }))}\r\n                  value={tasting.available_times?.map((time) => ({ value: time, label: time }))}\r\n                  onChange={handleSelectChange(index, \"available_times\")}\r\n                />\r\n              </div>\r\n              <div className=\"form-control\">\r\n                <label className=\"label\">Wine Types</label>\r\n                <Select\r\n                  isMulti\r\n                  options={wineTypes.map((wt) => ({ value: wt, label: wt }))}\r\n                  value={tasting.wine_types?.map((wt) => ({ value: wt, label: wt }))}\r\n                  onChange={handleSelectChange(index, \"wine_types\")}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-control\">\r\n              <label className=\"label\">Available Slots</label>\r\n              <MultiDateTimePicker dates={availableSlotDates} onChange={updateSlotDates(index)} />\r\n            </div>\r\n\r\n            <div className=\"form-control\">\r\n              <label className=\"label\">Number of Wines Per Tasting</label>\r\n              <input\r\n                type=\"number\"\r\n                placeholder=\"Enter number of wines\"\r\n                className=\"input input-bordered\"\r\n                value={inputValues[`wines_${index}`] !== undefined ? inputValues[`wines_${index}`] : (tasting.number_of_wines_per_tasting || \"\")}\r\n                onChange={handleNumberOfWinesChange(index)}\r\n                min={1}\r\n              />\r\n            </div>\r\n <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"form-control\">\r\n              <label className=\"label\">Special Features</label>\r\n              <Select\r\n                isMulti\r\n                options={specialFeatures.map((feature) => ({ value: feature, label: feature }))}\r\n                value={tasting.special_features?.map((feature) => ({ value: feature, label: feature }))}\r\n                onChange={handleSelectChange(index, \"special_features\")}\r\n              />\r\n            </div>\r\n            <div className=\"form-control\">\r\n          <label className=\"label flex items-center gap-1\">\r\n            Select AVA\r\n            <FaMapMarkerAlt style={{ color: \"#5A0C2C\" }} />\r\n          </label>\r\n          <select\r\n            className=\"select select-bordered\"\r\n            value={tasting.ava || \"\"}\r\n            onChange={e => handleTastingChange(index, \"ava\", e.target.value)}\r\n          >\r\n            <option value=\"\">Select AVA</option>\r\n            {regions.map((ava) => (\r\n              <option key={ava} value={ava}>\r\n                {ava}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n    \r\n                        </div>\r\n\r\n            <div className=\"form-control\">\r\n              <label className=\"label\">\r\n                Images Upload\r\n              </label>\r\n              <MultipleImageUpload\r\n                files={getTastingImages(index)}\r\n                onChange={handleTastingImagesChange(index)}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div className=\"form-control\">\r\n                <label className=\"label\">\r\n                  Wine \r\n                </label>\r\n                <div className=\"space-y-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Wine Name\"\r\n                    className=\"input input-bordered w-full\"\r\n                    value={newWine.name}\r\n                    onChange={(e) => setNewWine({ ...newWine, name: e.target.value })}\r\n                  />\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Wine description\"\r\n                    className=\"input input-bordered w-full\"\r\n                    value={newWine.description || \"\"}\r\n                    onChange={(e) => setNewWine({ ...newWine, description: e.target.value })}\r\n                  />\r\n                  <input\r\n                    type=\"number\"\r\n                    placeholder=\"Wine year\"\r\n                    className=\"input input-bordered w-full\"\r\n                    value={newWine.year || \"\"}\r\n                    onChange={(e) => setNewWine({ ...newWine, year: parseInt(e.target.value) || undefined })}\r\n                  />\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Tasting notes\"\r\n                    className=\"input input-bordered w-full\"\r\n                    value={newWine.tasting_notes || \"\"}\r\n                    onChange={(e) => setNewWine({ ...newWine, tasting_notes: e.target.value })}\r\n                  />\r\n                  <MultipleImageUpload \r\n                    files={tastingWinePhotos[index] || []} \r\n                    onChange={(files) => setTastingWinePhotos(prev => ({\r\n                      ...prev,\r\n                      [index]: files\r\n                    }))} \r\n                  />\r\n                  <button type=\"button\" className=\"btn btn-primary\" onClick={addWine(index)}>\r\n                    Add Wine\r\n                  </button>\r\n                </div>\r\n                <div className=\"mt-2\">\r\n                  {tasting.wine_details?.map((wine, wineIndex) => (\r\n                    <div key={wine.id} className=\"flex justify-between items-center p-2 border-b\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        {wine.photo && (\r\n                          <div className=\"relative\">\r\n                            <img \r\n                              src={wine.photo} \r\n                              alt={wine.name}\r\n                              className=\"w-8 h-8 object-cover rounded\"\r\n                            />\r\n                            <button\r\n                              type=\"button\"\r\n                              className=\"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 flex items-center justify-center text-xs\"\r\n                              onClick={() => removeWinePhoto(index, wineIndex)}\r\n                            >\r\n                              ×\r\n                            </button>\r\n                          </div>\r\n                        )}\r\n                        <div className=\"flex flex-col\">\r\n                          <span className=\"font-medium\">{wine.name}</span>\r\n                          {wine.year && <span className=\"text-sm text-gray-500\">({wine.year})</span>}\r\n                          {wine.description && <span className=\"text-xs text-gray-600 truncate max-w-32\">{wine.description}</span>}\r\n                        </div>\r\n                      </div>\r\n                      <button type=\"button\" className=\"btn btn-xs btn-error\" onClick={() => removeWine(index, wineIndex)}>\r\n                        Remove\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-control\">\r\n                <label className=\"label\">\r\n                  Tour (Optional)\r\n                </label>\r\n                <div className=\"space-y-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Tour Option\"\r\n                    className=\"input input-bordered w-full\"\r\n                    value={newTour.description}\r\n                    onChange={(e) => setNewTour({ ...newTour, description: e.target.value })}\r\n                  />\r\n                  <input\r\n                    type=\"number\"\r\n                    placeholder=\"Tour Cost\"\r\n                    className=\"input input-bordered w-full\"\r\n                    value={newTour.cost || \"\"}\r\n                    onChange={(e) => setNewTour({ ...newTour, cost: parseFloat(e.target.value) || 0 })}\r\n                    min={0}\r\n                    step=\"0.01\"\r\n                  />\r\n                  <button type=\"button\" className=\"btn btn-primary\" onClick={submitTour(index)}>\r\n                    Add Tour\r\n                  </button>\r\n                </div>\r\n                <div className=\"mt-2\">\r\n                  {tasting.tours?.tour_options?.map((tour, tourIndex) => (\r\n                    <div key={tourIndex} className=\"flex justify-between items-center p-2 border-b\">\r\n                      <span>\r\n                        {tour.description}: ${tour.cost}\r\n                      </span>\r\n                      <button type=\"button\" className=\"btn btn-xs btn-error\" onClick={() => removeTour(index, tourIndex)}>\r\n                        Remove\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div className=\"form-control\">\r\n                <label className=\"label\">\r\n                  Food Available\r\n                </label>\r\n                <div className=\"space-y-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Food Available\"\r\n                    className=\"input input-bordered w-full\"\r\n                    value={foodPairingOption.name}\r\n                    onChange={(e) => setFoodPairingOption({ ...foodPairingOption, name: e.target.value })}\r\n                  />\r\n                  <input\r\n                    type=\"number\"\r\n                    placeholder=\"Price\"\r\n                    className=\"input input-bordered w-full\"\r\n                    value={foodPairingOption.price || \"\"}\r\n                    onChange={(e) => setFoodPairingOption({ ...foodPairingOption, price: parseFloat(e.target.value) || 0 })}\r\n                    min={0}\r\n                    step=\"0.01\"\r\n                  />\r\n                  <button type=\"button\" className=\"btn btn-primary\" onClick={addFoodPairingOption(index)}>\r\n                    Add Food Available\r\n                  </button>\r\n                </div>\r\n                <div className=\"mt-2\">\r\n                  {tasting.food_pairing_options?.map((pairing, optionIndex) => (\r\n                    <div key={pairing.id} className=\"flex justify-between items-center p-2 border-b\">\r\n                      <span>\r\n                        {pairing.name}: ${pairing.price}\r\n                      </span>\r\n                      <button type=\"button\" className=\"btn btn-xs btn-error\" onClick={() => removeFoodPairingOption(index, optionIndex)}>\r\n                        Remove\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-control\">\r\n                <label className=\"label\">\r\n                  Other Features\r\n                </label>\r\n                <div className=\"space-y-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Other Feature\"\r\n                    className=\"input input-bordered w-full\"\r\n                    value={otherFeature.description}\r\n                    onChange={(e) => setOtherFeature({ ...otherFeature, description: e.target.value })}\r\n                  />\r\n                  <input\r\n                    type=\"number\"\r\n                    placeholder=\"Feature Cost\"\r\n                    className=\"input input-bordered w-full\"\r\n                    value={otherFeature.cost || \"\"}\r\n                    onChange={(e) => setOtherFeature({ ...otherFeature, cost: parseFloat(e.target.value) || 0 })}\r\n                    min={0}\r\n                    step=\"0.01\"\r\n                  />\r\n                  <button type=\"button\" className=\"btn btn-primary\" onClick={addOtherFeature(index)}>\r\n                    Add Feature\r\n                  </button>\r\n                </div>\r\n                <div className=\"mt-2\">\r\n                  {tasting.other_features?.map((feature, featureIndex) => (\r\n                    <div key={featureIndex} className=\"flex justify-between items-center p-2 border-b\">\r\n                      <span>\r\n                        {feature.description}: ${feature.cost}\r\n                      </span>\r\n                      <button type=\"button\" className=\"btn btn-xs btn-error\" onClick={() => removeFeature(index, featureIndex)}>\r\n                        Remove\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-4\">\r\n              <button type=\"button\" className=\"btn btn-primary\" onClick={addTasting(index)}>\r\n                Add Tasting\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))\r\n      )}\r\n\r\n      <div className=\"form-control\">\r\n        <label className=\"label\">Payment Method</label>\r\n        <div className=\"flex flex-col gap-2\">\r\n          <label className=\"flex items-center\">\r\n            <input\r\n              type=\"radio\"\r\n              name=\"paymentMethod\"\r\n              value=\"pay_winery\"\r\n              checked={formData.payment_method?.type === \"pay_winery\"}\r\n              onChange={(e) => setFormData((prev) => ({ \r\n                ...prev, \r\n                payment_method: { type: e.target.value as 'pay_winery' | 'pay_stripe' | 'external_booking' }\r\n              }))}\r\n              className=\"radio\"\r\n            />\r\n            <span className=\"ml-2\">Pay at Winery</span>\r\n          </label>\r\n          <label className=\"flex items-center\">\r\n            <input\r\n              type=\"radio\"\r\n              name=\"paymentMethod\"\r\n              value=\"pay_stripe\"\r\n              checked={formData.payment_method?.type === \"pay_stripe\"}\r\n              onChange={(e) => setFormData((prev) => ({ \r\n                ...prev, \r\n                payment_method: { type: e.target.value as 'pay_winery' | 'pay_stripe' | 'external_booking' }\r\n              }))}\r\n              className=\"radio\"\r\n            />\r\n            <span className=\"ml-2\">Pay in NVW App (Stripe)</span>\r\n          </label>\r\n          <label className=\"flex items-center\">\r\n            <input\r\n              type=\"radio\"\r\n              name=\"paymentMethod\"\r\n              value=\"external_booking\"\r\n              checked={formData.payment_method?.type === \"external_booking\"}\r\n              onChange={(e) => setFormData((prev) => ({ \r\n                ...prev, \r\n                payment_method: { \r\n                  type: e.target.value as 'pay_winery' | 'pay_stripe' | 'external_booking',\r\n                  external_booking_link: prev.payment_method?.external_booking_link || ''\r\n                }\r\n              }))}\r\n              className=\"radio\"\r\n            />\r\n            <span className=\"ml-2\">External Booking Link</span>\r\n          </label>\r\n        </div>\r\n        \r\n        {/* External Booking Link Input - Only show when external_booking is selected */}\r\n        {formData.payment_method?.type === \"external_booking\" && (\r\n          <div className=\"mt-4\">\r\n            <label className=\"label\">External Booking Link</label>\r\n            <input\r\n              type=\"url\"\r\n              placeholder=\"https://winery-booking-site.com/book\"\r\n              className=\"input input-bordered w-full\"\r\n              value={formData.payment_method?.external_booking_link || \"\"}\r\n              onChange={(e) => setFormData((prev) => ({\r\n                ...prev,\r\n                payment_method: {\r\n                  type: prev.payment_method?.type || \"external_booking\",\r\n                  external_booking_link: e.target.value\r\n                }\r\n              }))}\r\n            />\r\n            <div className=\"text-sm text-gray-600 mt-2\">\r\n              When customers book, they will be redirected to this link for payment processing.\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"form-control\">\r\n        <label className=\"label\">\r\n          Total Amount: $\r\n          {formData.tasting_info.reduce((sum, tasting) => {\r\n            const tastingCost = tasting.tasting_price || 0;\r\n            const tourCost = tasting.tours?.tour_options?.reduce((tSum, tour) => tSum + (tour.cost || 0), 0) || 0;\r\n            const foodCost = tasting.food_pairing_options?.reduce((fSum, pairing) => fSum + (pairing.price || 0), 0) || 0;\r\n            const featureCost = tasting.other_features?.reduce((fSum, feature) => fSum + (feature.cost || 0), 0) || 0;\r\n            return sum + tastingCost + tourCost + foodCost + featureCost;\r\n          }, 0)}\r\n        </label>\r\n      </div>\r\n    </div>\r\n  );\r\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2749, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2755, "column": 0}, "map": {"version":3,"sources":["file://E%3A/nvm/src/lib/fileUpload.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport async function fileUpload(files: File[]) {\r\n  const apiKey = \"812b8a2ed8cf66bebd06276bf07e119f\";\r\n\r\n  const uploadPromises = files.map((file) => {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", file);\r\n\r\n    return axios\r\n      .post(`https://api.imgbb.com/1/upload?key=${apiKey}`, formData)\r\n      .then((response) => response.data.data.url)\r\n      .catch((error) => {\r\n        console.error(\"Error uploading the image\", error);\r\n        return null;\r\n      });\r\n  });\r\n\r\n  const uploadedUrls = await Promise.all(uploadPromises);\r\n\r\n  return uploadedUrls.filter((url) => url !== null);\r\n}\r\n"],"names":[],"mappings":";;;AAAA;;AAEO,eAAe,WAAW,KAAa;IAC5C,MAAM,SAAS;IAEf,MAAM,iBAAiB,MAAM,GAAG,CAAC,CAAC;QAChC,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,SAAS;QAEzB,OAAO,wIAAA,CAAA,UAAK,CACT,IAAI,CAAC,CAAC,mCAAmC,EAAE,QAAQ,EAAE,UACrD,IAAI,CAAC,CAAC,WAAa,SAAS,IAAI,CAAC,IAAI,CAAC,GAAG,EACzC,KAAK,CAAC,CAAC;YACN,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,OAAO;QACT;IACJ;IAEA,MAAM,eAAe,MAAM,QAAQ,GAAG,CAAC;IAEvC,OAAO,aAAa,MAAM,CAAC,CAAC,MAAQ,QAAQ;AAC9C"}},
    {"offset": {"line": 2776, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2782, "column": 0}, "map": {"version":3,"sources":["file://E%3A/nvm/src/app/admin/dashboard/winery/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useRef, useState, useEffect } from \"react\";\r\nimport { Winery } from \"@/app/interfaces\";\r\nimport { BasicInfoForm } from \"@/components/winery-stepper/basic-info-step\";\r\nimport { TastingBookingForm } from \"@/components/winery-stepper/tasting-booking-step\";\r\nimport { fileUpload } from \"@/lib/fileUpload\";\r\nimport axios from \"axios\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { useRouter, useSearchParams } from \"next/navigation\";\r\n\r\nconst initialState: Winery = {\r\n  name: \"\",\r\n  description: \"\",\r\n  location: { address: \"\", latitude: 0, longitude: 0, is_mountain_location: false },\r\n  contact_info: { email: \"\", phone: \"\", website: \"\" },\r\n  tasting_info: [\r\n    {\r\n      tasting_title: \"\",\r\n      tasting_description: \"\",\r\n      tasting_price: 0,\r\n      available_times: [],\r\n      wine_types: [],\r\n      number_of_wines_per_tasting: 1,\r\n      special_features: [],\r\n      images: [],\r\n      food_pairing_options: [],\r\n      ava: \"\",\r\n      tours: {\r\n        available: false,\r\n        tour_price: 0,\r\n        tour_options: [],\r\n      },\r\n      wine_details: [],\r\n      booking_info: {\r\n        booking_enabled: false,\r\n        max_guests_per_slot: 0,\r\n        number_of_people: [1, 10],\r\n        dynamic_pricing: { enabled: false, weekend_multiplier: 1 },\r\n        available_slots: [],\r\n        external_booking_link: \"\",\r\n      },\r\n      other_features: [],\r\n    },\r\n  ],\r\n  amenities: { virtual_sommelier: false, augmented_reality_tours: false, handicap_accessible: false },\r\n  user_reviews: [],\r\n  transportation: { uber_availability: false, lyft_availability: false, distance_from_user: 0 },\r\n  payment_method: { type: \"pay_winery\" },\r\n};\r\n\r\nexport default function WineryAdminStepperPage() {\r\n  const [formData, setFormData] = useState<Winery>(initialState);\r\n  const [activeStep, setActiveStep] = useState(0);\r\n  const [uploadedFiles, setUploadedFiles] = useState<File[]>([]);\r\n  const [availableSlotDates, setAvailableSlotDates] = useState<Date[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [tastingImages, setTastingImages] = useState<{ [key: number]: File[] }>({});\r\n  const formRef = useRef<HTMLFormElement>(null);\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const wineryId = searchParams.get(\"id\");\r\n\r\n  useEffect(() => {\r\n    if (wineryId) {\r\n      setLoading(true);\r\n      axios\r\n        .get(`/api/winery/${wineryId}`)\r\n        .then((res) => {\r\n          if (res.data && res.data.winery) {\r\n            const wineryData = res.data.winery;\r\n            \r\n            // Migrate old payment_method format to new format\r\n            if (typeof wineryData.payment_method === 'string') {\r\n              wineryData.payment_method = { \r\n                type: wineryData.payment_method,\r\n                external_booking_link: ''\r\n              };\r\n            }\r\n            \r\n            setFormData(wineryData);\r\n          }\r\n        })\r\n        .catch(() => toast.error(\"Failed to load winery for editing.\"))\r\n        .finally(() => setLoading(false));\r\n    }\r\n  }, [wineryId]);\r\n\r\n  const validateBasicInfo = () => {\r\n    const { name, description, contact_info, location } = formData;\r\n    \r\n    if (!name || name.trim() === \"\") {\r\n      toast.error(\"Winery name is required\");\r\n      return false;\r\n    }\r\n    \r\n    if (!description || description.trim() === \"\") {\r\n      toast.error(\"Description is required\");\r\n      return false;\r\n    }\r\n    \r\n    if (!contact_info.email || contact_info.email.trim() === \"\") {\r\n      toast.error(\"Email is required\");\r\n      return false;\r\n    }\r\n    \r\n    if (!contact_info.phone || contact_info.phone.trim() === \"\") {\r\n      toast.error(\"Phone number is required\");\r\n      return false;\r\n    }\r\n    \r\n    if (!location.address || location.address.trim() === \"\") {\r\n      toast.error(\"Address is required\");\r\n      return false;\r\n    }\r\n    \r\n    return true;\r\n  };\r\n\r\n  const validateTastingInfo = () => {\r\n    if (formData.tasting_info.length === 0) {\r\n      toast.error(\"At least one tasting must be added\");\r\n      return false;\r\n    }\r\n\r\n    for (let i = 0; i < formData.tasting_info.length; i++) {\r\n      const tasting = formData.tasting_info[i];\r\n      \r\n      if (!tasting.tasting_title || tasting.tasting_title.trim() === \"\") {\r\n        toast.error(`Tasting #${i + 1}: Tasting title is required`);\r\n        return false;\r\n      }\r\n      \r\n      if (!tasting.tasting_description || tasting.tasting_description.trim() === \"\") {\r\n        toast.error(`Tasting #${i + 1}: Tasting description is required`);\r\n        return false;\r\n      }\r\n      \r\n      if (!tasting.tasting_price || tasting.tasting_price <= 0) {\r\n        toast.error(`Tasting #${i + 1}: Tasting price must be greater than 0`);\r\n        return false;\r\n      }\r\n      \r\n      if (!tasting.available_times || tasting.available_times.length === 0) {\r\n        toast.error(`Tasting #${i + 1}: At least one available time must be selected`);\r\n        return false;\r\n      }\r\n      \r\n      if (!tasting.wine_types || tasting.wine_types.length === 0) {\r\n        toast.error(`Tasting #${i + 1}: At least one wine type must be selected`);\r\n        return false;\r\n      }\r\n      \r\n      if (!tasting.ava || tasting.ava.trim() === \"\") {\r\n        toast.error(`Tasting #${i + 1}: AVA selection is required`);\r\n        return false;\r\n      }\r\n      \r\n      // Check if there are any images (either existing or newly uploaded)\r\n      const hasExistingImages = tasting.images && tasting.images.length > 0;\r\n      const hasNewImages = tastingImages[i] && tastingImages[i].length > 0;\r\n      \r\n      if (!hasExistingImages && !hasNewImages) {\r\n        toast.error(`Tasting #${i + 1}: At least one image is required`);\r\n        return false;\r\n      }\r\n    }\r\n    \r\n    return true;\r\n  };\r\n\r\n  const handleNext = () => {\r\n    if (activeStep === 0 && !validateBasicInfo()) {\r\n      return;\r\n    }\r\n    setActiveStep((prev) => prev + 1);\r\n  };\r\n  \r\n  const handleBack = () => setActiveStep((prev) => prev - 1);\r\n\r\n  const handleSubmit = async () => {\r\n    // Validate both steps before submitting\r\n    if (!validateBasicInfo()) {\r\n      return;\r\n    }\r\n    \r\n    if (!validateTastingInfo()) {\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    try {\r\n      // Collect all files from global uploads and individual tastings\r\n      const allFiles: File[] = [...uploadedFiles];\r\n      \r\n      // Add files from individual tastings\r\n      Object.values(tastingImages).forEach(files => {\r\n        allFiles.push(...files);\r\n      });\r\n      \r\n      // Upload all files to ImgBB\r\n      const filesUrls = await fileUpload(allFiles);\r\n      \r\n      const updatedFormData = { ...formData };\r\n      \r\n      if (filesUrls.length > 0) {\r\n        // Distribute URLs properly to each tasting\r\n        let urlIndex = 0;\r\n        updatedFormData.tasting_info = updatedFormData.tasting_info.map((tasting, index) => {\r\n          const filesForThisTasting = tastingImages[index] || [];\r\n          const urlsForThisTasting: string[] = [];\r\n          \r\n          // Get URLs for this tasting's files\r\n          for (let i = 0; i < filesForThisTasting.length && urlIndex < filesUrls.length; i++) {\r\n            urlsForThisTasting.push(filesUrls[urlIndex]);\r\n            urlIndex++;\r\n          }\r\n          \r\n          // Combine with existing images\r\n          const existingImages = tasting.images || [];\r\n          return {\r\n            ...tasting,\r\n            images: [...existingImages, ...urlsForThisTasting]\r\n          };\r\n        });\r\n      }\r\n\r\n      if (wineryId) {\r\n        // Update existing winery\r\n        await axios.patch(`/api/admin/wineries/${wineryId}`, updatedFormData);\r\n        toast.success(\"Winery updated successfully!\", {\r\n          position: \"top-right\",\r\n          autoClose: 3000,\r\n          hideProgressBar: true,\r\n        });\r\n      } else {\r\n        // Create new winery\r\n        await axios.post(\"/api/winery\", updatedFormData);\r\n        toast.success(\"Winery added successfully!\", {\r\n          position: \"top-right\",\r\n          autoClose: 3000,\r\n          hideProgressBar: true,\r\n        });\r\n      }\r\n      setFormData({ ...initialState });\r\n      setUploadedFiles([]);\r\n      setTastingImages({});\r\n      setAvailableSlotDates([]);\r\n      setActiveStep(0);\r\n      router.push(\"/admin/dashboard/winery/list\");\r\n    } catch (error) {\r\n      console.error(\"Error saving winery:\", error);\r\n      toast.error(\"Error saving winery. Please try again.\", {\r\n        position: \"top-right\",\r\n        autoClose: 3000,\r\n        hideProgressBar: true,\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const renderStep = () => {\r\n    switch (activeStep) {\r\n      case 0:\r\n        return <BasicInfoForm formData={formData} setFormData={setFormData} />;\r\n      case 1:\r\n        return (\r\n          <TastingBookingForm\r\n            formData={formData}\r\n            setFormData={setFormData}\r\n            uploadedFiles={uploadedFiles}\r\n            setUploadedFiles={setUploadedFiles}\r\n            availableSlotDates={availableSlotDates}\r\n            setAvailableSlotDates={setAvailableSlotDates}\r\n            tastingImages={tastingImages}\r\n            setTastingImages={setTastingImages}\r\n          />\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen p-4 bg-gray-100 relative top-20\">\r\n      <div className=\"container mx-auto max-w-4xl bg-base-100 p-5 relative\">\r\n        <h1 className=\"text-3xl font-bold text-center mb-6\">{wineryId ? \"Edit Winery\" : \"Add New Winery\"}</h1>\r\n        <div className=\"steps mb-4\">\r\n          <div className={`step ${activeStep >= 0 ? \"step-primary\" : \"\"}`}>Basic Info</div>\r\n          <div className={`step ${activeStep >= 1 ? \"step-primary\" : \"\"}`}>Tasting & Booking</div>\r\n        </div>\r\n\r\n        {loading && (\r\n          <div className=\"fixed inset-0 bg-gray-500 bg-opacity-75 flex justify-center items-center z-50\">\r\n            <div className=\"loader border-t-4 border-b-4 border-white w-12 h-12 rounded-full animate-spin\"></div>\r\n          </div>\r\n        )}\r\n\r\n        <ToastContainer />\r\n\r\n        <form ref={formRef} onSubmit={(e) => e.preventDefault()} className=\"space-y-6\" id=\"winery-form\">\r\n          {renderStep()}\r\n          <div className=\"flex justify-between\" style={{ marginBottom: \"40px\" }}>\r\n            {activeStep > 0 && (\r\n              <button type=\"button\" onClick={handleBack} className=\"btn\">\r\n                Back\r\n              </button>\r\n            )}\r\n            {activeStep < 1 ? (\r\n              <button type=\"button\" onClick={handleNext} className=\"btn btn-primary ml-auto\">\r\n                Next\r\n              </button>\r\n            ) : (\r\n              <button onClick={handleSubmit} className=\"btn btn-success ml-auto\" disabled={loading}>\r\n                {wineryId ? \"Update Winery\" : \"Submit Winery\"}\r\n              </button>\r\n            )}\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3226, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}